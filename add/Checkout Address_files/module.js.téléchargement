(()=>{var e={272:(e,t,i)=>{"use strict";var n=i(723),r=[],o=[],a=n.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function s(e){var t;(t=r.length?r.pop():new c).task=e,n(t)}function c(){this.task=null}e.exports=s,c.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(o.push(e),a())}finally{this.task=null,r[r.length]=this}}},723:(e,t,i)=>{"use strict";function n(e){o.length||r(),o[o.length]=e}e.exports=n;var r,o=[],a=0;function s(){for(;a<o.length;){var e=a;if(a+=1,o[e].call(),a>1024){for(var t=0,i=o.length-a;t<i;t++)o[t]=o[t+a];o.length-=a,a=0}}o.length=0,a=0}var c,u,l,d=void 0!==i.g?i.g:self,h=d.MutationObserver||d.WebKitMutationObserver;function f(e){return function(){var t=setTimeout(n,0),i=setInterval(n,50);function n(){clearTimeout(t),clearInterval(i),e()}}}"function"==typeof h?(c=1,u=new h(s),l=document.createTextNode(""),u.observe(l,{characterData:!0}),r=function(){c=-c,l.data=c}):r=f(s),n.requestFlush=r,n.makeRequestCallFromTimer=f},452:function(e,t,i){var n;e.exports=(n=i(249),i(269),i(214),i(888),i(109),function(){var e=n,t=e.lib.BlockCipher,i=e.algo,r=[],o=[],a=[],s=[],c=[],u=[],l=[],d=[],h=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var i=0,n=0;for(t=0;t<256;t++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,r[i]=p,o[p]=i;var m=e[i],v=e[m],g=e[v],y=257*e[p]^16843008*p;a[i]=y<<24|y>>>8,s[i]=y<<16|y>>>16,c[i]=y<<8|y>>>24,u[i]=y,y=16843009*g^65537*v^257*m^16843008*i,l[p]=y<<24|y>>>8,d[p]=y<<16|y>>>16,h[p]=y<<8|y>>>24,f[p]=y,i?(i=m^e[e[e[g^m]]],n^=e[e[n]]):i=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=i.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,i=e.sigBytes/4,n=4*((this._nRounds=i+6)+1),o=this._keySchedule=[],a=0;a<n;a++)a<i?o[a]=t[a]:(u=o[a-1],a%i?i>6&&a%i==4&&(u=r[u>>>24]<<24|r[u>>>16&255]<<16|r[u>>>8&255]<<8|r[255&u]):(u=r[(u=u<<8|u>>>24)>>>24]<<24|r[u>>>16&255]<<16|r[u>>>8&255]<<8|r[255&u],u^=p[a/i|0]<<24),o[a]=o[a-i]^u);for(var s=this._invKeySchedule=[],c=0;c<n;c++){if(a=n-c,c%4)var u=o[a];else u=o[a-4];s[c]=c<4||a<=4?u:l[r[u>>>24]]^d[r[u>>>16&255]]^h[r[u>>>8&255]]^f[r[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,r)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,l,d,h,f,o),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,r,o,a,s){for(var c=this._nRounds,u=e[t]^i[0],l=e[t+1]^i[1],d=e[t+2]^i[2],h=e[t+3]^i[3],f=4,p=1;p<c;p++){var m=n[u>>>24]^r[l>>>16&255]^o[d>>>8&255]^a[255&h]^i[f++],v=n[l>>>24]^r[d>>>16&255]^o[h>>>8&255]^a[255&u]^i[f++],g=n[d>>>24]^r[h>>>16&255]^o[u>>>8&255]^a[255&l]^i[f++],y=n[h>>>24]^r[u>>>16&255]^o[l>>>8&255]^a[255&d]^i[f++];u=m,l=v,d=g,h=y}m=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&h])^i[f++],v=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[h>>>8&255]<<8|s[255&u])^i[f++],g=(s[d>>>24]<<24|s[h>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^i[f++],y=(s[h>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^i[f++],e[t]=m,e[t+1]=v,e[t+2]=g,e[t+3]=y},keySize:8});e.AES=t._createHelper(m)}(),n.AES)},109:function(e,t,i){var n,r,o,a,s,c,u,l,d,h,f,p,m,v,g,y,w,b,S;e.exports=(n=i(249),i(888),void(n.lib.Cipher||(r=n,o=r.lib,a=o.Base,s=o.WordArray,c=o.BufferedBlockAlgorithm,u=r.enc,u.Utf8,l=u.Base64,d=r.algo.EvpKDF,h=o.Cipher=c.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?S:w}return function(t){return{encrypt:function(i,n,r){return e(n).encrypt(t,i,n,r)},decrypt:function(i,n,r){return e(n).decrypt(t,i,n,r)}}}}()}),o.StreamCipher=h.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),f=r.mode={},p=o.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),m=f.CBC=function(){var e=p.extend();function t(e,t,i){var n,r=this._iv;r?(n=r,this._iv=void 0):n=this._prevBlock;for(var o=0;o<i;o++)e[t+o]^=n[o]}return e.Encryptor=e.extend({processBlock:function(e,i){var n=this._cipher,r=n.blockSize;t.call(this,e,i,r),n.encryptBlock(e,i),this._prevBlock=e.slice(i,i+r)}}),e.Decryptor=e.extend({processBlock:function(e,i){var n=this._cipher,r=n.blockSize,o=e.slice(i,i+r);n.decryptBlock(e,i),t.call(this,e,i,r),this._prevBlock=o}}),e}(),v=(r.pad={}).Pkcs7={pad:function(e,t){for(var i=4*t,n=i-e.sigBytes%i,r=n<<24|n<<16|n<<8|n,o=[],a=0;a<n;a+=4)o.push(r);var c=s.create(o,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=h.extend({cfg:h.cfg.extend({mode:m,padding:v}),reset:function(){var e;h.reset.call(this);var t=this.cfg,i=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,i&&i.words):(this._mode=e.call(n,this,i&&i.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),g=o.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),y=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,i=e.salt;return(i?s.create([1398893684,1701076831]).concat(i).concat(t):t).toString(l)},parse:function(e){var t,i=l.parse(e),n=i.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=s.create(n.slice(2,4)),n.splice(0,4),i.sigBytes-=16),g.create({ciphertext:i,salt:t})}},w=o.SerializableCipher=a.extend({cfg:a.extend({format:y}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var r=e.createEncryptor(i,n),o=r.finalize(t),a=r.cfg;return g.create({ciphertext:o,key:i,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=(r.kdf={}).OpenSSL={execute:function(e,t,i,n,r){if(n||(n=s.random(8)),r)o=d.create({keySize:t+i,hasher:r}).compute(e,n);else var o=d.create({keySize:t+i}).compute(e,n);var a=s.create(o.words.slice(t),4*i);return o.sigBytes=4*t,g.create({key:o,iv:a,salt:n})}},S=o.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:b}),encrypt:function(e,t,i,n){var r=(n=this.cfg.extend(n)).kdf.execute(i,e.keySize,e.ivSize,n.salt,n.hasher);n.iv=r.iv;var o=w.encrypt.call(this,e,t,r.key,n);return o.mixIn(r),o},decrypt:function(e,t,i,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var r=n.kdf.execute(i,e.keySize,e.ivSize,t.salt,n.hasher);return n.iv=r.iv,w.decrypt.call(this,e,t,r.key,n)}}))))},249:function(e,t,i){var n;e.exports=(n=n||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==i.g&&i.g.crypto&&(n=i.g.crypto),!n)try{n=i(480)}catch(e){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),a={},s=a.lib={},c=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,r=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<r;o++){var a=i[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(var s=0;s<r;s+=4)t[n+s>>>2]=i[s>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(r());return new u.init(t,e)}}),l=a.enc={},d=l.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var o=t[r>>>2]>>>24-r%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new u.init(i,t/2)}},h=l.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var o=t[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new u.init(i,t)}},f=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i,n=this._data,r=n.words,o=n.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*c,o);if(c){for(var d=0;d<c;d+=a)this._doProcessBlock(r,d);i=r.splice(0,c),n.sigBytes-=l}return new u.init(i,l)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(s.Hasher=p.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new m.HMAC.init(e,i).finalize(t)}}}),a.algo={});return a}(Math),n)},269:function(e,t,i){var n,r,o;e.exports=(n=i(249),o=(r=n).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var r=[],o=0;o<i;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<i;s++)r.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(e){var t=e.length,i=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var r=0;r<i.length;r++)n[i.charCodeAt(r)]=r}var a=i.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,i){for(var n=[],r=0,a=0;a<t;a++)if(a%4){var s=i[e.charCodeAt(a-1)]<<a%4*2|i[e.charCodeAt(a)]>>>6-a%4*2;n[r>>>2]|=s<<24-r%4*8,r++}return o.create(n,r)}(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)},743:function(e,t,i){e.exports=i(249).enc.Utf8},888:function(e,t,i){var n,r,o,a,s,c,u,l;e.exports=(l=i(249),i(783),i(824),o=(r=(n=l).lib).Base,a=r.WordArray,c=(s=n.algo).MD5,u=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i,n=this.cfg,r=n.hasher.create(),o=a.create(),s=o.words,c=n.keySize,u=n.iterations;s.length<c;){i&&r.update(i),i=r.update(e).finalize(t),r.reset();for(var l=1;l<u;l++)i=r.finalize(i),r.reset();o.concat(i)}return o.sigBytes=4*c,o}}),n.EvpKDF=function(e,t,i){return u.create(i).compute(e,t)},l.EvpKDF)},824:function(e,t,i){var n,r,o;e.exports=(r=(n=i(249)).lib.Base,o=n.enc.Utf8,void(n.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var i=e.blockSize,n=4*i;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),a=this._iKey=t.clone(),s=r.words,c=a.words,u=0;u<i;u++)s[u]^=1549556828,c[u]^=909522486;r.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})))},214:function(e,t,i){var n;e.exports=(n=i(249),function(e){var t=n,i=t.lib,r=i.WordArray,o=i.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,r=e[n];e[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o=this._hash.words,a=e[t+0],c=e[t+1],f=e[t+2],p=e[t+3],m=e[t+4],v=e[t+5],g=e[t+6],y=e[t+7],w=e[t+8],b=e[t+9],S=e[t+10],k=e[t+11],_=e[t+12],C=e[t+13],T=e[t+14],x=e[t+15],I=o[0],O=o[1],L=o[2],j=o[3];I=u(I,O,L,j,a,7,s[0]),j=u(j,I,O,L,c,12,s[1]),L=u(L,j,I,O,f,17,s[2]),O=u(O,L,j,I,p,22,s[3]),I=u(I,O,L,j,m,7,s[4]),j=u(j,I,O,L,v,12,s[5]),L=u(L,j,I,O,g,17,s[6]),O=u(O,L,j,I,y,22,s[7]),I=u(I,O,L,j,w,7,s[8]),j=u(j,I,O,L,b,12,s[9]),L=u(L,j,I,O,S,17,s[10]),O=u(O,L,j,I,k,22,s[11]),I=u(I,O,L,j,_,7,s[12]),j=u(j,I,O,L,C,12,s[13]),L=u(L,j,I,O,T,17,s[14]),I=l(I,O=u(O,L,j,I,x,22,s[15]),L,j,c,5,s[16]),j=l(j,I,O,L,g,9,s[17]),L=l(L,j,I,O,k,14,s[18]),O=l(O,L,j,I,a,20,s[19]),I=l(I,O,L,j,v,5,s[20]),j=l(j,I,O,L,S,9,s[21]),L=l(L,j,I,O,x,14,s[22]),O=l(O,L,j,I,m,20,s[23]),I=l(I,O,L,j,b,5,s[24]),j=l(j,I,O,L,T,9,s[25]),L=l(L,j,I,O,p,14,s[26]),O=l(O,L,j,I,w,20,s[27]),I=l(I,O,L,j,C,5,s[28]),j=l(j,I,O,L,f,9,s[29]),L=l(L,j,I,O,y,14,s[30]),I=d(I,O=l(O,L,j,I,_,20,s[31]),L,j,v,4,s[32]),j=d(j,I,O,L,w,11,s[33]),L=d(L,j,I,O,k,16,s[34]),O=d(O,L,j,I,T,23,s[35]),I=d(I,O,L,j,c,4,s[36]),j=d(j,I,O,L,m,11,s[37]),L=d(L,j,I,O,y,16,s[38]),O=d(O,L,j,I,S,23,s[39]),I=d(I,O,L,j,C,4,s[40]),j=d(j,I,O,L,a,11,s[41]),L=d(L,j,I,O,p,16,s[42]),O=d(O,L,j,I,g,23,s[43]),I=d(I,O,L,j,b,4,s[44]),j=d(j,I,O,L,_,11,s[45]),L=d(L,j,I,O,x,16,s[46]),I=h(I,O=d(O,L,j,I,f,23,s[47]),L,j,a,6,s[48]),j=h(j,I,O,L,y,10,s[49]),L=h(L,j,I,O,T,15,s[50]),O=h(O,L,j,I,v,21,s[51]),I=h(I,O,L,j,_,6,s[52]),j=h(j,I,O,L,p,10,s[53]),L=h(L,j,I,O,S,15,s[54]),O=h(O,L,j,I,c,21,s[55]),I=h(I,O,L,j,w,6,s[56]),j=h(j,I,O,L,x,10,s[57]),L=h(L,j,I,O,g,15,s[58]),O=h(O,L,j,I,C,21,s[59]),I=h(I,O,L,j,m,6,s[60]),j=h(j,I,O,L,k,10,s[61]),L=h(L,j,I,O,f,15,s[62]),O=h(O,L,j,I,b,21,s[63]),o[0]=o[0]+I|0,o[1]=o[1]+O|0,o[2]=o[2]+L|0,o[3]=o[3]+j|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;i[r>>>5]|=128<<24-r%32;var o=e.floor(n/4294967296),a=n;i[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(i.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,i,n,r,o,a){var s=e+(t&i|~t&n)+r+a;return(s<<o|s>>>32-o)+t}function l(e,t,i,n,r,o,a){var s=e+(t&n|i&~n)+r+a;return(s<<o|s>>>32-o)+t}function d(e,t,i,n,r,o,a){var s=e+(t^i^n)+r+a;return(s<<o|s>>>32-o)+t}function h(e,t,i,n,r,o,a){var s=e+(i^(t|~n))+r+a;return(s<<o|s>>>32-o)+t}t.MD5=o._createHelper(c),t.HmacMD5=o._createHmacHelper(c)}(Math),n.MD5)},783:function(e,t,i){var n,r,o,a,s,c,u,l;e.exports=(r=(n=l=i(249)).lib,o=r.WordArray,a=r.Hasher,s=n.algo,c=[],u=s.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],o=i[2],a=i[3],s=i[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var d=(n<<5|n>>>27)+s+c[u];d+=u<20?1518500249+(r&o|~r&a):u<40?1859775393+(r^o^a):u<60?(r&o|r&a|o&a)-1894007588:(r^o^a)-899497514,s=a,a=o,o=r<<30|r>>>2,r=n,n=d}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=a._createHelper(u),n.HmacSHA1=a._createHmacHelper(u),l.SHA1)},819:function(e){e.exports=(()=>{"use strict";var e={d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>l});const i=(...e)=>{},n=e=>null!==e&&"Object"===e.constructor.name;let r;const o=()=>{if(void 0!==r)return r;r=!0;try{localStorage||(r=!1)}catch(e){r=!1}return u(),r},a=String.fromCharCode(0),s=(e,t,i=!0)=>i?[...JSON.stringify(e)].map((e=>String.fromCharCode(e.charCodeAt(0)+t))).join(""):JSON.parse([...e].map((e=>String.fromCharCode(e.charCodeAt(0)-t))).join("")),c={ttl:null,encrypt:!1,encrypter:s,decrypter:(e,t)=>s(e,t,!1),secret:75},u=(e=!1)=>{if(!o())return!1;Object.keys(localStorage).forEach((t=>{const i=localStorage.getItem(t);if(!i)return;let r;try{r=JSON.parse(i)}catch(e){return}n(r)&&a in r&&(Date.now()>r.ttl||e)&&localStorage.removeItem(t)}))},l={config:c,set:(e,t,n={})=>{if(!o())return!1;const r=Object.assign(Object.assign(Object.assign({},c),n),{encrypt:!1!==n.encrypt&&(n.encrypt||c.encrypt),ttl:null===n.ttl?null:n.ttl||c.ttl});try{const n=r.ttl&&!isNaN(r.ttl)&&r.ttl>0;let o=n?{[a]:t,ttl:Date.now()+1e3*r.ttl}:t;r.encrypt&&(n?o[a]=(r.encrypter||i)(o[a],r.secret):o=(r.encrypter||i)(o,r.secret)),localStorage.setItem(e,JSON.stringify(o))}catch(e){return!1}},get:(e,t={})=>{if(!o())return null;const r=localStorage.getItem(e);if(!r)return null;const s=Object.assign(Object.assign(Object.assign({},c),t),{encrypt:!1!==t.encrypt&&(t.encrypt||c.encrypt),ttl:null===t.ttl?null:t.ttl||c.ttl});let u=JSON.parse(r);const l=n(u)&&a in u;if(s.decrypt||s.encrypt)try{l?u[a]=(s.decrypter||i)(u[a],s.secret):u=(s.decrypter||i)(u,s.secret)}catch(e){}return l?Date.now()>u.ttl?(localStorage.removeItem(e),null):u[a]:u},flush:u,clear:()=>{if(!o())return!1;localStorage.clear()},remove:e=>{if(!o())return!1;localStorage.removeItem(e)}};return t.default})()},434:(e,t,i)=>{"use strict";var n=i(723);function r(){}var o=null,a={};function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._1=0,this._2=0,this._3=null,this._4=null,e!==r&&f(e,this)}function c(e,t){for(;3===e._2;)e=e._3;if(s._5&&s._5(e),0===e._2)return 0===e._1?(e._1=1,void(e._4=t)):1===e._1?(e._1=2,void(e._4=[e._4,t])):void e._4.push(t);!function(e,t){n((function(){var i=1===e._2?t.onFulfilled:t.onRejected;if(null!==i){var n=function(e,t){try{return e(t)}catch(e){return o=e,a}}(i,e._3);n===a?l(t.promise,o):u(t.promise,n)}else 1===e._2?u(t.promise,e._3):l(t.promise,e._3)}))}(e,t)}function u(e,t){if(t===e)return l(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var i=function(e){try{return e.then}catch(e){return o=e,a}}(t);if(i===a)return l(e,o);if(i===e.then&&t instanceof s)return e._2=3,e._3=t,void d(e);if("function"==typeof i)return void f(i.bind(t),e)}e._2=1,e._3=t,d(e)}function l(e,t){e._2=2,e._3=t,s._6&&s._6(e,t),d(e)}function d(e){if(1===e._1&&(c(e,e._4),e._4=null),2===e._1){for(var t=0;t<e._4.length;t++)c(e,e._4[t]);e._4=null}}function h(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function f(e,t){var i=!1,n=function(e,n,r){try{e((function(e){i||(i=!0,u(t,e))}),(function(e){i||(i=!0,l(t,e))}))}catch(e){return o=e,a}}(e);i||n!==a||(i=!0,l(t,o))}e.exports=s,s._5=null,s._6=null,s._7=r,s.prototype.then=function(e,t){if(this.constructor!==s)return function(e,t,i){return new e.constructor((function(n,o){var a=new s(r);a.then(n,o),c(e,new h(t,i,a))}))}(this,e,t);var i=new s(r);return c(this,new h(e,t,i)),i}},803:(e,t,i)=>{"use strict";var n=i(434);e.exports=n;var r=l(!0),o=l(!1),a=l(null),s=l(void 0),c=l(0),u=l("");function l(e){var t=new n(n._7);return t._2=1,t._3=e,t}n.resolve=function(e){if(e instanceof n)return e;if(null===e)return a;if(void 0===e)return s;if(!0===e)return r;if(!1===e)return o;if(0===e)return c;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new n(t.bind(e))}catch(e){return new n((function(t,i){i(e)}))}return l(e)};var d=function(e){return"function"==typeof Array.from?(d=Array.from,Array.from(e)):(d=function(e){return Array.prototype.slice.call(e)},Array.prototype.slice.call(e))};function h(e){return{status:"fulfilled",value:e}}function f(e){return{status:"rejected",reason:e}}function p(e){if(e&&("object"==typeof e||"function"==typeof e)){if(e instanceof n&&e.then===n.prototype.then)return e.then(h,f);var t=e.then;if("function"==typeof t)return new n(t.bind(e)).then(h,f)}return h(e)}n.all=function(e){var t=d(e);return new n((function(e,i){if(0===t.length)return e([]);var r=t.length;function o(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof n&&s.then===n.prototype.then){for(;3===s._2;)s=s._3;return 1===s._2?o(a,s._3):(2===s._2&&i(s._3),void s.then((function(e){o(a,e)}),i))}var c=s.then;if("function"==typeof c)return void new n(c.bind(s)).then((function(e){o(a,e)}),i)}t[a]=s,0==--r&&e(t)}for(var a=0;a<t.length;a++)o(a,t[a])}))},n.allSettled=function(e){return n.all(d(e).map(p))},n.reject=function(e){return new n((function(t,i){i(e)}))},n.race=function(e){return new n((function(t,i){d(e).forEach((function(e){n.resolve(e).then(t,i)}))}))},n.prototype.catch=function(e){return this.then(null,e)}},48:()=>{"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(e,t){var i=arguments.length?this.then.apply(this,arguments):this;i.then(null,(function(e){setTimeout((function(){throw e}),0)}))})},15:(e,t,i)=>{i(272),"undefined"==typeof Promise&&(Promise=i(434),i(803)),i(48)},480:()=>{}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}i(15);var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var o=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,i){var n=e.locked.get(t);void 0===n?void 0===i?e.locked.set(t,[]):e.locked.set(t,[i]):void 0!==i&&(n.unshift(i),e.locked.set(t,n))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(i,n){e.isLocked(t)?e.addToLocked(t,i):(e.addToLocked(t),i())}))},this.unlock=function(t){var i=e.locked.get(t);if(void 0!==i&&0!==i.length){var n=i.pop();e.locked.set(t,i),void 0!==n&&setTimeout(n,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return i.getInstance()}}));n(o);var a=n(r((function(e,i){var n=t&&t.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new i((function(t){t(e.value)})).then(a,s)}c((n=n.apply(e,t||[])).next())}))},r=t&&t.__generator||function(e,t){var i,n,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(i,"__esModule",{value:!0});var a="browser-tabs-lock-key";function s(e){return new Promise((function(t){return setTimeout(t,e)}))}function c(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",i="",n=0;n<e;n++)i+=t[Math.floor(Math.random()*t.length)];return i}var u=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,i){return void 0===i&&(i=5e3),n(this,void 0,void 0,(function(){var n,o,u,l,d,h;return r(this,(function(r){switch(r.label){case 0:n=Date.now()+c(4),o=Date.now()+i,u=a+"-"+t,l=window.localStorage,r.label=1;case 1:return Date.now()<o?[4,s(30)]:[3,8];case 2:return r.sent(),null!==l.getItem(u)?[3,5]:(d=this.id+"-"+t+"-"+n,[4,s(Math.floor(25*Math.random()))]);case 3:return r.sent(),l.setItem(u,JSON.stringify({id:this.id,iat:n,timeoutKey:d,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,s(30)];case 4:return r.sent(),null!==(h=l.getItem(u))&&(h=JSON.parse(h)).id===this.id&&h.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(u,n),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(o)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+c(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return n(this,void 0,void 0,(function(){var i=this;return r(this,(function(a){return setTimeout((function(){return n(i,void 0,void 0,(function(){var i,n;return r(this,(function(r){switch(r.label){case 0:return[4,o.default().lock(t)];case 1:return r.sent(),this.acquiredIatSet.has(t)?(i=window.localStorage,null===(n=i.getItem(e))?(o.default().unlock(t),[2]):((n=JSON.parse(n)).timeRefreshed=Date.now(),i.setItem(e,JSON.stringify(n)),o.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(o.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(i){switch(i.label){case 0:return[4,new Promise((function(i){var n=!1,r=Date.now(),o=!1;function a(){if(o||(window.removeEventListener("storage",a),e.removeFromWaiting(a),clearTimeout(s),o=!0),!n){n=!0;var t=50-(Date.now()-r);t>0?setTimeout(i,t):i()}}window.addEventListener("storage",a),e.addToWaiting(a);var s=setTimeout(a,Math.max(0,t-Date.now()))}))];case 1:return i.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return n(this,void 0,void 0,(function(){var i,n,s;return r(this,(function(r){switch(r.label){case 0:return i=window.localStorage,n=a+"-"+t,null===(s=i.getItem(n))?[2]:(s=JSON.parse(s)).id!==this.id?[3,2]:[4,o.default().lock(s.iat)];case 1:r.sent(),this.acquiredIatSet.delete(s.iat),i.removeItem(n),o.default().unlock(s.iat),e.notifyWaiters(),r.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(){for(var t=Date.now()-5e3,i=window.localStorage,n=Object.keys(i),r=!1,o=0;o<n.length;o++){var s=n[o];if(s.includes(a)){var c=i.getItem(s);null!==c&&(void 0===(c=JSON.parse(c)).timeRefreshed&&c.timeAcquired<t||void 0!==c.timeRefreshed&&c.timeRefreshed<t)&&(i.removeItem(s),r=!0)}}r&&e.notifyWaiters()},e.waiters=void 0,e}();i.default=u})));const s={timeoutInSeconds:60},c={name:"auth0-spa-js",version:"2.0.2"},u=()=>Date.now();class l extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,l.prototype)}static fromPayload({error:e,error_description:t}){return new l(e,t)}}class d extends l{constructor(e,t,i,n=null){super(e,t),this.state=i,this.appState=n,Object.setPrototypeOf(this,d.prototype)}}class h extends l{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,h.prototype)}}class f extends h{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,f.prototype)}}class p extends l{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,p.prototype)}}class m extends l{constructor(e,t,i){super(e,t),this.mfa_token=i,Object.setPrototypeOf(this,m.prototype)}}class v extends l{constructor(e,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${g(e,["default"])}', scope: '${g(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,v.prototype)}}function g(e,t=[]){return e&&!t.includes(e)?e:""}const y=()=>window.crypto,w=()=>{const e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let t="";return Array.from(y().getRandomValues(new Uint8Array(43))).forEach((i=>t+=e[i%e.length])),t},b=e=>btoa(e),S=t=>{var{clientId:i}=t,n=e(t,["clientId"]);return new URLSearchParams((e=>Object.keys(e).filter((t=>void 0!==e[t])).reduce(((t,i)=>Object.assign(Object.assign({},t),{[i]:e[i]})),{}))(Object.assign({client_id:i},n))).toString()},k=e=>(e=>decodeURIComponent(atob(e).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")))(e.replace(/_/g,"/").replace(/-/g,"+")),_=async(e,t)=>{const i=await fetch(e,t);return{ok:i.ok,json:await i.json()}},C=async(e,t,i,n,r,o,a=1e4)=>r?(async(e,t,i,n,r,o,a)=>{return s={auth:{audience:t,scope:i},timeout:r,fetchUrl:e,fetchOptions:n,useFormData:a},c=o,new Promise((function(e,t){const i=new MessageChannel;i.port1.onmessage=function(n){n.data.error?t(new Error(n.data.error)):e(n.data),i.port1.close()},c.postMessage(s,[i.port2])}));var s,c})(e,t,i,n,a,r,o):(async(e,t,i)=>{const n=new AbortController;let r;return t.signal=n.signal,Promise.race([_(e,t),new Promise(((e,t)=>{r=setTimeout((()=>{n.abort(),t(new Error("Timeout when executing 'fetch'"))}),i)}))]).finally((()=>{clearTimeout(r)}))})(e,n,a);async function T(t,i){var{baseUrl:n,timeout:r,audience:o,scope:a,auth0Client:s,useFormData:u}=t,d=e(t,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const h=u?S(d):JSON.stringify(d);return await async function(t,i,n,r,o,a,s){let c,u=null;for(let e=0;e<3;e++)try{c=await C(t,n,r,o,a,s,i),u=null;break}catch(e){u=e}if(u)throw u;const d=c.json,{error:h,error_description:f}=d,p=e(d,["error","error_description"]),{ok:v}=c;if(!v){const e=f||`HTTP error. Unable to fetch ${t}`;if("mfa_required"===h)throw new m(h,e,p.mfa_token);throw new l(h||"request_error",e)}return p}(`${n}/oauth/token`,r,o||"default",a,{method:"POST",body:h,headers:{"Content-Type":u?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(s||c))}},i,u)}const x=(...e)=>{return(t=e.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(t))).join(" ");var t};class I{constructor(e,t="@@auth0spajs@@",i){this.prefix=t,this.suffix=i,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[t,i,n,r]=e.split("::");return new I({clientId:i,scope:r,audience:n},t)}static fromCacheEntry(e){const{scope:t,audience:i,client_id:n}=e;return new I({scope:t,audience:i,clientId:n})}}class O{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter((e=>e.startsWith("@@auth0spajs@@")))}}class L{constructor(){this.enclosedCache=function(){let e={};return{set(t,i){e[t]=i},get(t){const i=e[t];if(i)return i},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}}class j{constructor(e,t,i){this.cache=e,this.keyManifest=t,this.nowProvider=i||u}async setIdToken(e,t,i){var n;const r=this.getIdTokenCacheKey(e);await this.cache.set(r,{id_token:t,decodedToken:i}),await(null===(n=this.keyManifest)||void 0===n?void 0:n.add(r))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const t=await this.get(e);if(!t)return;if(!t.id_token||!t.decodedToken)return;return{id_token:t.id_token,decodedToken:t.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0){var i;let n=await this.cache.get(e.toKey());if(!n){const t=await this.getCacheKeys();if(!t)return;const i=this.matchExistingCacheKey(e,t);i&&(n=await this.cache.get(i))}if(!n)return;const r=await this.nowProvider(),o=Math.floor(r/1e3);return n.expiresAt-t<o?n.body.refresh_token?(n.body={refresh_token:n.body.refresh_token},await this.cache.set(e.toKey(),n),n.body):(await this.cache.remove(e.toKey()),void await(null===(i=this.keyManifest)||void 0===i?void 0:i.remove(e.toKey()))):n.body}async set(e){var t;const i=new I({clientId:e.client_id,scope:e.scope,audience:e.audience}),n=await this.wrapCacheEntry(e);await this.cache.set(i.toKey(),n),await(null===(t=this.keyManifest)||void 0===t?void 0:t.add(i.toKey()))}async clear(e){var t;const i=await this.getCacheKeys();i&&(await i.filter((t=>!e||t.includes(e))).reduce((async(e,t)=>{await e,await this.cache.remove(t)}),Promise.resolve()),await(null===(t=this.keyManifest)||void 0===t?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?null===(e=await this.keyManifest.get())||void 0===e?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new I({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter((t=>{var i;const n=I.fromKey(t),r=new Set(n.scope&&n.scope.split(" ")),o=(null===(i=e.scope)||void 0===i?void 0:i.split(" "))||[],a=n.scope&&o.reduce(((e,t)=>e&&r.has(t)),!0);return"@@auth0spajs@@"===n.prefix&&n.clientId===e.clientId&&n.audience===e.audience&&a}))[0]}}class R{constructor(e,t){this.storage=e,this.clientId=t,this.storageKey=`a0.spajs.txs.${this.clientId}`,this.transaction=this.storage.get(this.storageKey)}create(e){this.transaction=e,this.storage.save(this.storageKey,e,{daysUntilExpire:1})}get(){return this.transaction}remove(){delete this.transaction,this.storage.remove(this.storageKey)}}const A=e=>"number"==typeof e,P=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"];var W=r((function(e,i){var n=t&&t.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};function r(e,t){if(!t)return"";var i="; "+e;return!0===t?i:i+"="+t}function o(e,t,i){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return r("Expires",e.expires?e.expires.toUTCString():"")+r("Domain",e.domain)+r("Path",e.path)+r("Secure",e.secure)+r("SameSite",e.sameSite)}(i)}function a(e){for(var t={},i=e?e.split("; "):[],n=/(%[\dA-F]{2})+/gi,r=0;r<i.length;r++){var o=i[r].split("="),a=o.slice(1).join("=");'"'===a.charAt(0)&&(a=a.slice(1,-1));try{t[o[0].replace(n,decodeURIComponent)]=a.replace(n,decodeURIComponent)}catch(e){}}return t}function s(){return a(document.cookie)}function c(e,t,i){document.cookie=o(e,t,n({path:"/"},i))}i.__esModule=!0,i.encode=o,i.parse=a,i.getAll=s,i.get=function(e){return s()[e]},i.set=c,i.remove=function(e,t){c(e,"",n(n({},t),{expires:-1}))}}));n(W),W.encode,W.parse,W.getAll;var E=W.get,V=W.set,Z=W.remove;const z={get(e){const t=E(e);if(void 0!==t)return JSON.parse(t)},save(e,t,i){let n={};"https:"===window.location.protocol&&(n={secure:!0,sameSite:"none"}),(null==i?void 0:i.daysUntilExpire)&&(n.expires=i.daysUntilExpire),(null==i?void 0:i.cookieDomain)&&(n.domain=i.cookieDomain),V(e,JSON.stringify(t),n)},remove(e,t){let i={};(null==t?void 0:t.cookieDomain)&&(i.domain=t.cookieDomain),Z(e,i)}},N={get:e=>z.get(e)||z.get(`_legacy_${e}`),save(e,t,i){let n={};"https:"===window.location.protocol&&(n={secure:!0}),(null==i?void 0:i.daysUntilExpire)&&(n.expires=i.daysUntilExpire),V(`_legacy_${e}`,JSON.stringify(t),n),z.save(e,t,i)},remove(e,t){let i={};(null==t?void 0:t.cookieDomain)&&(i.domain=t.cookieDomain),Z(e,i),z.remove(e,t),z.remove(`_legacy_${e}`,t)}},D={get(e){if("undefined"==typeof sessionStorage)return;const t=sessionStorage.getItem(e);return null!=t?JSON.parse(t):void 0},save(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}};var X,F=function(e){return X=X||function(e,t,i){var n=function(e,t){var i=atob("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9Y29uc3Qgcz1lPT57dmFye2NsaWVudElkOnR9PWUscj1mdW5jdGlvbihlLHQpe3ZhciByPXt9O2Zvcih2YXIgcyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHMpJiZ0LmluZGV4T2Yocyk8MCYmKHJbc109ZVtzXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPHMubGVuZ3RoO28rKyl0LmluZGV4T2Yoc1tvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsc1tvXSkmJihyW3Nbb11dPWVbc1tvXV0pfXJldHVybiByfShlLFsiY2xpZW50SWQiXSk7cmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoKGU9Pk9iamVjdC5rZXlzKGUpLmZpbHRlcigodD0+dm9pZCAwIT09ZVt0XSkpLnJlZHVjZSgoKHQscik9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7W3JdOmVbcl19KSkse30pKShPYmplY3QuYXNzaWduKHtjbGllbnRfaWQ6dH0scikpKS50b1N0cmluZygpfTtsZXQgbz17fTtjb25zdCBuPShlLHQpPT5gJHtlfXwke3R9YDthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoYXN5bmMoe2RhdGE6e3RpbWVvdXQ6ZSxhdXRoOnIsZmV0Y2hVcmw6aSxmZXRjaE9wdGlvbnM6Yyx1c2VGb3JtRGF0YTphfSxwb3J0czpbZl19KT0+e2xldCBwO2NvbnN0e2F1ZGllbmNlOmwsc2NvcGU6dX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2NvbnN0IGU9KChlLHQpPT5vW24oZSx0KV0pKGwsdSk7aWYoIWUpdGhyb3cgbmV3IHQobCx1KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpfWxldCBkLGc7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1kLnNpZ25hbCk7dHJ5e2c9YXdhaXQgUHJvbWlzZS5yYWNlKFsoaD1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsaCkpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIGYucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFnKXJldHVybiBkJiZkLmFib3J0KCksdm9pZCBmLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO3A9YXdhaXQgZy5qc29uKCkscC5yZWZyZXNoX3Rva2VuPygoKGUsdCxyKT0+e29bbih0LHIpXT1lfSkocC5yZWZyZXNoX3Rva2VuLGwsdSksZGVsZXRlIHAucmVmcmVzaF90b2tlbik6KChlLHQpPT57ZGVsZXRlIG9bbihlLHQpXX0pKGwsdSksZi5wb3N0TWVzc2FnZSh7b2s6Zy5vayxqc29uOnB9KX1jYXRjaChlKXtmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGh9KSl9KCk7Cgo=");return i}(),r=n.indexOf("\n",10)+1,o=n.substring(r)+"",a=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(a)}(),new Worker(X,e)};const M={};class U{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const i=new Set((null===(t=await this.cache.get(this.manifestKey))||void 0===t?void 0:t.keys)||[]);i.add(e),await this.cache.set(this.manifestKey,{keys:[...i]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const i=new Set(t.keys);return i.delete(e),i.size>0?await this.cache.set(this.manifestKey,{keys:[...i]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const H={memory:()=>(new L).enclosedCache,localstorage:()=>new O},B=e=>H[e],G=t=>{const{openUrl:i,onRedirect:n}=t,r=e(t,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:!1===i||i?i:n})},Y=new a;class J{constructor(e){let t,i;if(this.userCache=(new L).enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await Y.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),"undefined"!=typeof window&&(()=>{if(!y())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===y().subtle)throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)i=e.cache;else{if(t=e.cacheLocation||"memory",!B(t))throw new Error(`Invalid cache location "${t}"`);i=B(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===e.legacySameSiteCookie?z:N,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(e=>`auth0.${this.options.clientId}.is.authenticated`)(),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const n=e.useCookiesForTransactions?this.cookieStorage:D;var r;this.scope=x("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new R(n,this.options.clientId),this.nowProvider=this.options.nowProvider||u,this.cacheManager=new j(i,i.allKeys?void 0:new U(i,this.options.clientId),this.nowProvider),this.domainUrl=(r=this.options.domain,/^https?:\/\//.test(r)?r:`https://${r}`),this.tokenIssuer=((e,t)=>e?e.startsWith("https://")?e:`https://${e}/`:`${t}/`)(this.options.issuer,this.domainUrl),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===t&&(this.worker=new F)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||c)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${S(e)}`)}async _verifyIdToken(e,t,i){const n=await this.nowProvider();return(e=>{if(!e.id_token)throw new Error("ID token is required but missing");const t=(e=>{const t=e.split("."),[i,n,r]=t;if(3!==t.length||!i||!n||!r)throw new Error("ID token could not be decoded");const o=JSON.parse(k(n)),a={__raw:e},s={};return Object.keys(o).forEach((e=>{a[e]=o[e],P.includes(e)||(s[e]=o[e])})),{encoded:{header:i,payload:n,signature:r},header:JSON.parse(k(i)),claims:a,user:s}})(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${e.iss}", found "${t.claims.iss}"`);if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==t.header.alg)throw new Error(`Signature algorithm of "${t.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!t.claims.aud||"string"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but was not one of "${t.claims.aud.join(", ")}"`);if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${e.aud}", found "${t.claims.azp}"`)}}else if(t.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but found "${t.claims.aud}"`);if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${e.nonce}", found "${t.claims.nonce}"`)}if(e.max_age&&!A(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(null==t.claims.exp||!A(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!A(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const i=e.leeway||60,n=new Date(e.now||Date.now()),r=new Date(0);if(r.setUTCSeconds(t.claims.exp+i),n>r)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${n}) is after expiration time (${r})`);if(null!=t.claims.nbf&&A(t.claims.nbf)){const e=new Date(0);if(e.setUTCSeconds(t.claims.nbf-i),n<e)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${n}) is before ${e}`)}if(null!=t.claims.auth_time&&A(t.claims.auth_time)){const r=new Date(0);if(r.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+i),n>r)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${n}) is after last auth at ${r}`)}if(e.organizationId){if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(e.organizationId!==t.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${e.organizationId}", found "${t.claims.org_id}"`)}return t})({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organizationId:i,leeway:this.options.leeway,max_age:(r=this.options.authorizationParams.max_age,"string"!=typeof r?r:parseInt(r,10)||void 0),now:n});var r}_processOrgIdHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,i){const n=b(w()),r=b(w()),o=w(),a=(e=>{const t=new Uint8Array(e);return(e=>{const t={"+":"-","/":"_","=":""};return e.replace(/[+/=]/g,(e=>t[e]))})(window.btoa(String.fromCharCode(...Array.from(t))))})(await(async e=>{const t=y().subtle.digest({name:"SHA-256"},(new TextEncoder).encode(e));return await t})(o)),s=((e,t,i,n,r,o,a,s)=>Object.assign(Object.assign(Object.assign({client_id:e.clientId},e.authorizationParams),i),{scope:x(t,i.scope),response_type:"code",response_mode:s||"query",state:n,nonce:r,redirect_uri:a||e.authorizationParams.redirect_uri,code_challenge:o,code_challenge_method:"S256"}))(this.options,this.scope,e,n,r,a,e.redirect_uri||this.options.authorizationParams.redirect_uri||i,null==t?void 0:t.response_mode),c=this._authorizeUrl(s);return{nonce:r,code_verifier:o,scope:s.scope,audience:s.audience||"default",redirect_uri:s.redirect_uri,state:n,url:c}}async loginWithPopup(e,t){var i;if(e=e||{},!(t=t||{}).popup&&(t.popup=(e=>{const t=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup",`left=${t},top=${i},width=400,height=600,resizable,scrollbars=yes,status=1`)})(),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const n=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=n.url;const r=await(e=>new Promise(((t,i)=>{let n;const r=setInterval((()=>{e.popup&&e.popup.closed&&(clearInterval(r),clearTimeout(o),window.removeEventListener("message",n,!1),i(new p(e.popup)))}),1e3),o=setTimeout((()=>{clearInterval(r),i(new f(e.popup)),window.removeEventListener("message",n,!1)}),1e3*(e.timeoutInSeconds||60));n=function(a){if(a.data&&"authorization_response"===a.data.type){if(clearTimeout(o),clearInterval(r),window.removeEventListener("message",n,!1),e.popup.close(),a.data.response.error)return i(l.fromPayload(a.data.response));t(a.data.response)}},window.addEventListener("message",n)})))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(n.state!==r.state)throw new Error("Invalid state");const o=(null===(i=e.authorizationParams)||void 0===i?void 0:i.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:n.audience,scope:n.scope,code_verifier:n.code_verifier,grant_type:"authorization_code",code:r.code,redirect_uri:n.redirect_uri},{nonceIn:n.nonce,organizationId:o})}async getUser(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.claims}async loginWithRedirect(t={}){var i;const n=G(t),{openUrl:r,fragment:o,appState:a}=n,s=e(n,["openUrl","fragment","appState"]),c=(null===(i=s.authorizationParams)||void 0===i?void 0:i.organization)||this.options.authorizationParams.organization,u=await this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:l}=u,d=e(u,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},d),{appState:a}),c&&{organizationId:c}));const h=o?`${l}#${o}`:l;r?await r(h):window.location.assign(h)}async handleRedirectCallback(e=window.location.href){const t=e.split("?").slice(1);if(0===t.length)throw new Error("There are no query params available for parsing.");const{state:i,code:n,error:r,error_description:o}=(e=>{e.indexOf("#")>-1&&(e=e.substring(0,e.indexOf("#")));const t=new URLSearchParams(e);return{state:t.get("state"),code:t.get("code")||void 0,error:t.get("error")||void 0,error_description:t.get("error_description")||void 0}})(t.join("")),a=this.transactionManager.get();if(!a)throw new Error("Invalid state");if(this.transactionManager.remove(),r)throw new d(r,o||r,i,a.appState);if(!a.code_verifier||a.state&&a.state!==i)throw new Error("Invalid state");const s=a.organizationId,c=a.nonce,u=a.redirect_uri;return await this._requestToken(Object.assign({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:n},u?{redirect_uri:u}:{}),{nonceIn:c,organizationId:s}),{appState:a.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch(e){}}async getTokenSilently(e={}){var t;const i=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:x(this.scope,null===(t=e.authorizationParams)||void 0===t?void 0:t.scope)})}),n=await((e,t)=>{let i=M[t];return i||(i=e().finally((()=>{delete M[t],i=null})),M[t]=i),i})((()=>this._getTokenSilently(i)),`${this.options.clientId}::${i.authorizationParams.audience}::${i.authorizationParams.scope}`);return e.detailedResponse?n:null==n?void 0:n.access_token}async _getTokenSilently(t){const{cacheMode:i}=t,n=e(t,["cacheMode"]);if("off"!==i){const e=await this._getEntryFromCache({scope:n.authorizationParams.scope,audience:n.authorizationParams.audience||"default",clientId:this.options.clientId});if(e)return e}if("cache-only"!==i){if(!await(async(e,t=3)=>{for(let i=0;i<t;i++)if(await e())return!0;return!1})((()=>Y.acquireLock("auth0.lock.getTokenSilently",5e3)),10))throw new h;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),"off"!==i){const e=await this._getEntryFromCache({scope:n.authorizationParams.scope,audience:n.authorizationParams.audience||"default",clientId:this.options.clientId});if(e)return e}const e=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(n):await this._getTokenFromIFrame(n),{id_token:t,access_token:r,oauthTokenScope:o,expires_in:a}=e;return Object.assign(Object.assign({id_token:t,access_token:r},o?{scope:o}:null),{expires_in:a})}finally{await Y.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},t={}){var i;const n=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:x(this.scope,null===(i=e.authorizationParams)||void 0===i?void 0:i.scope)})});return t=Object.assign(Object.assign({},s),t),await this.loginWithPopup(n,t),(await this.cacheManager.get(new I({scope:n.authorizationParams.scope,audience:n.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(t){null!==t.clientId?t.clientId=t.clientId||this.options.clientId:delete t.clientId;const i=t.logoutParams||{},{federated:n}=i,r=e(i,["federated"]),o=n?"&federated":"";return this._url(`/v2/logout?${S(Object.assign({clientId:t.clientId},r))}`)+o}async logout(t={}){const i=G(t),{openUrl:n}=i,r=e(i,["openUrl"]);await this.cacheManager.clear(),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const o=this._buildLogoutUrl(r);n?await n(o):!1!==n&&window.location.assign(o)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),i=this.cookieStorage.get(this.orgHintCookieName);i&&!t.organization&&(t.organization=i);const{url:n,state:r,nonce:o,code_verifier:a,redirect_uri:s,scope:c,audience:u}=await this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new l("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const t=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,i=await((e,t,i=60)=>new Promise(((n,r)=>{const o=window.document.createElement("iframe");o.setAttribute("width","0"),o.setAttribute("height","0"),o.style.display="none";const a=()=>{window.document.body.contains(o)&&(window.document.body.removeChild(o),window.removeEventListener("message",s,!1))};let s;const c=setTimeout((()=>{r(new h),a()}),1e3*i);s=function(e){if(e.origin!=t)return;if(!e.data||"authorization_response"!==e.data.type)return;const i=e.source;i&&i.close(),e.data.response.error?r(l.fromPayload(e.data.response)):n(e.data.response),clearTimeout(c),window.removeEventListener("message",s,!1),setTimeout(a,2e3)},window.addEventListener("message",s,!1),window.document.body.appendChild(o),o.setAttribute("src",e)})))(n,this.domainUrl,t);if(r!==i.state)throw new Error("Invalid state");const d=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:a,code:i.code,grant_type:"authorization_code",redirect_uri:s,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:o});return Object.assign(Object.assign({},d),{scope:c,oauthTokenScope:d.scope,audience:u})}catch(e){throw"login_required"===e.error&&this.logout({openUrl:!1}),e}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new I({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new v(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const i=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,n="number"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null;try{const r=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:i}),n&&{timeout:n}));return Object.assign(Object.assign({},r),{scope:e.authorizationParams.scope,oauthTokenScope:r.scope,audience:e.authorizationParams.audience||"default"})}catch(t){if((t.message.indexOf("Missing Refresh Token")>-1||t.message&&t.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw t}}async _saveEntryInCache(t){const{id_token:i,decodedToken:n}=t,r=e(t,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:i,decodedToken:n}),await this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),await this.cacheManager.set(r)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",t=await this.cacheManager.getIdToken(new I({clientId:this.options.clientId,audience:e,scope:this.scope})),i=this.userCache.get("@@user@@");return t&&t.id_token===(null==i?void 0:i.id_token)?i:(this.userCache.set("@@user@@",t),t)}async _getEntryFromCache({scope:e,audience:t,clientId:i}){const n=await this.cacheManager.get(new I({scope:e,audience:t,clientId:i}),60);if(n&&n.access_token){const{access_token:e,oauthTokenScope:t,expires_in:i}=n,r=await this._getIdTokenFromCache();return r&&Object.assign(Object.assign({id_token:r.id_token,access_token:e},t?{scope:t}:null),{expires_in:i})}}async _requestToken(e,t){const{nonceIn:i,organizationId:n}=t||{},r=await T(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),o=await this._verifyIdToken(r.id_token,i,n);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},r),{decodedToken:o,scope:e.scope,audience:e.audience||"default"}),r.scope?{oauthTokenScope:r.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgIdHint(o.claims.org_id),Object.assign(Object.assign({},r),{decodedToken:o})}}var K;!function(e){e.PROD="prod",e.SANDBOX="sandbox",e.VTEST="vtest",e.STEST="stest",e.PTEST="ptest",e.DEV="dev",e.PLAYPEN="playpen",e.LOCALHOST="localhost"}(K||(K={}));const q=e=>function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function*(){const t=document.createElement("iframe");t.style.display="none",t.src=e;const i=()=>document.body.contains(t)&&document.body.removeChild(t);return new Promise(((e,n)=>{t.onload=()=>{i(),e()},t.onerror=()=>{i(),n(new Error("Failed to load URL"))},document.body.appendChild(t)}))}));class ${get nativeWindow(){const e=window;return e.__AUSPOST__=e.__AUSPOST__?e.__AUSPOST__:{},e}}var Q;class ee extends Error{constructor(e,t){super(`${e.status}: ${e.statusText}`),this.url=e.url,this.message=`${e.status}: ${e.statusText}`,this.status=e.status,this.statusText=e.statusText,this.error=t,Object.setPrototypeOf(this,ee.prototype)}static createHttpError(e){return function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const t=yield e.json().then((e=>e&&e instanceof Array?e[0]:e)).catch((()=>{}));return new ee(e,t)}))}}!function(e){e.PROD="https://digitalapi.auspost.com.au",e.SANDBOX="https://digitalapi.auspost.com.au",e.VTEST="https://digitalapi-vtest.npe.auspost.com.au",e.STEST="https://digitalapi-stest.npe.auspost.com.au",e.PTEST="https://digitalapi-ptest.npe.auspost.com.au",e.DEV="https://digitalapi-ptest.npe.auspost.com.au",e.PLAYPEN="https://digitalapi-ptest.npe.auspost.com.au",e.LOCALHOST="http://localhost:4000"}(Q||(Q={}));const te={[K.PROD]:Q.PROD,[K.SANDBOX]:Q.SANDBOX,[K.VTEST]:Q.VTEST,[K.STEST]:Q.STEST,[K.PTEST]:Q.PTEST,[K.DEV]:Q.DEV,[K.PLAYPEN]:Q.PLAYPEN,[K.LOCALHOST]:Q.LOCALHOST};var ie,ne;!function(e){e.APP_JSON="application/json"}(ie||(ie={})),function(e){e.GET="GET",e.DELETE="DELETE"}(ne||(ne={}));const re={"Content-Type":ie.APP_JSON,Accept:ie.APP_JSON,AP_APP_ID:"UIIM"};var oe,ae;!function(e){e.PROD="welcome.auspost.com.au",e.SANDBOX="welcome.sandbox.auspost.com.au",e.VTEST="welcome.vtest.auspost.com.au",e.STEST="welcome.stest.auspost.com.au",e.PTEST="welcome.ptest.auspost.com.au",e.DEV="welcome.dev.auspost.com.au",e.PLAYPEN="welcome.playpen.auspost.com.au",e.LOCALHOST="localhost:8080"}(oe||(oe={})),function(e){e.NONE="none",e.CONSENT="consent",e.LOGIN="login",e.SELECT_ACCOUNT="select_account"}(ae||(ae={}));const se="https://digitalapi.auspost.com.au/cssoapi/v2";var ce=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};class ue extends J{constructor(e){super(e),this.auth0ClientOptions=e,this.windowRefService=new $}createAuth0Client(){return ce(this,void 0,void 0,(function*(){yield this.fetchMock("createAuth0Client")}))}isAuthenticated(){return ce(this,void 0,void 0,(function*(){return this.fetchMock("isAuthenticated").then((e=>e.isAuthenticated))}))}getTokenSilently(e={}){return ce(this,void 0,void 0,(function*(){return this.fetchMock("getTokenSilently").then((e=>e.accessToken))}))}loginWithRedirect(e){var t;return ce(this,void 0,void 0,(function*(){yield this.fetchMock("loginWithRedirect"),(null===(t=null==e?void 0:e.authorizationParams)||void 0===t?void 0:t.prompt)!==ae.LOGIN&&(yield this.isAuthenticated())||(this.windowRefService.nativeWindow.location.replace(`http://${this.auth0ClientOptions.domain}/auth0/login`),yield new Promise((e=>setTimeout(e,1e3))))}))}logout(e){var t;return ce(this,void 0,void 0,(function*(){yield this.fetchMock("logout"),(null===(t=null==e?void 0:e.logoutParams)||void 0===t?void 0:t.returnTo)&&(this.windowRefService.nativeWindow.location.replace(e.logoutParams.returnTo),yield new Promise((e=>setTimeout(e,1e3))))}))}handleRedirectCallback(e){return ce(this,void 0,void 0,(function*(){return yield this.fetchMock("handleRedirectCallback")}))}getUser(){return ce(this,void 0,void 0,(function*(){return this.fetchMock("getUser").then((e=>e.user))}))}fetchMock(e){return ce(this,void 0,void 0,(function*(){const t=yield fetch(`http://${this.auth0ClientOptions.domain}/auth0/${e}`,{method:ne.GET});if(!t.ok)throw yield ee.createHttpError(t);return t.json().catch((()=>({})))}))}}var le=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};class de{get auth0Client(){if(!this._auth0Client)throw new Error("auth0Client not defined");return this._auth0Client}set auth0Client(e){this._auth0Client=e}initialise(e,t=!1){return le(this,void 0,void 0,(function*(){try{!t&&e.domain.startsWith(K.LOCALHOST)?(this.auth0Client=new ue(e),yield this.auth0Client.createAuth0Client()):this.auth0Client=yield async function(e){const t=new J(e);return await t.checkSession(),t}(Object.assign(Object.assign({},e),{useRefreshTokens:!0,useRefreshTokensFallback:!0}))}catch(e){throw console.warn("Error when initialising Auth0 Client",e.message),e}}))}isAuthenticated(){return this.auth0Client.isAuthenticated()}getAccessTokenSilently(e){return this.auth0Client.getTokenSilently(e)}login(e){return le(this,void 0,void 0,(function*(){yield this.auth0Client.loginWithRedirect(e)}))}logout(e,t){return le(this,void 0,void 0,(function*(){const i=t?{openUrl:q,logoutParams:{returnTo:e}}:{logoutParams:{returnTo:e}};yield this.auth0Client.logout(i)}))}handleRedirectCallback(){return le(this,void 0,void 0,(function*(){yield this.auth0Client.handleRedirectCallback()}))}getUser(){return le(this,void 0,void 0,(function*(){return yield this.auth0Client.getUser()}))}}var he=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};class fe{initialise(e,t){this.apiBaseUrl=t||te[e]}get(e,t={}){return he(this,void 0,void 0,(function*(){const i=this.buildHttpOptions(t);return yield this.fetch(`${this.apiBaseUrl}${e}`,i)}))}delete(e){return he(this,void 0,void 0,(function*(){const t=this.buildHttpOptions(void 0,ne.DELETE);yield this.fetch(`${this.apiBaseUrl}${e}`,t)}))}buildHttpOptions(e={},t=ne.GET,i){return{method:t,headers:new Headers(Object.assign(Object.assign({},re),e)),credentials:"include",body:i?JSON.stringify(i):void 0}}fetch(e,t){return he(this,void 0,void 0,(function*(){const i=yield fetch(e,t);if(!i.ok)throw yield ee.createHttpError(i);return i.json().catch((()=>({})))}))}}const pe="/cssoapi/v2/session",me="login_required",ve="reauth-required";class ge extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,ge.prototype)}static createLoginRequiredError(){return new ge(me,"Login required")}static createReauthRequiredError(){return new ge(ve,"Reauth required")}isLoginRequiredError(){return this.error===me}isReauthRequiredError(){return this.error===ve}}var ye=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};class we{constructor(e){this.serviceFactory=e,this.auth0SdkService=e.getService(de.name),this.httpService=e.getService(fe.name)}initialise(e){this.cssoSessionConfig=e||{}}setCssoSessionIfNeeded(){return ye(this,void 0,void 0,(function*(){let e=!1;return this.cssoSessionConfig.skipExchange||(yield this.isCssoSessionValid())||(yield this.exchangeTokens().catch((t=>{if(!(t instanceof ee&&401===t.status))throw t;e=!0}))),e}))}refreshCssoSessionIfNeeded(){return ye(this,void 0,void 0,(function*(){this.cssoSessionConfig.skipRefresh||this.hasCssoBeenRecentlyCalled()||(yield this.checkSession().catch((e=>{e instanceof ee&&console.warn("CSSO session check failed",e.message)})))}))}logoutCssoSession(){return ye(this,void 0,void 0,(function*(){yield this.logout().catch((()=>{}))}))}checkCssoSessionIfNeeded(e=!1){return ye(this,void 0,void 0,(function*(){return this.cssoSessionConfig.skipCheck||e&&this.hasCssoBeenRecentlyCalled()||(yield this.isCssoSessionValid())}))}getAccessToken(){return ye(this,void 0,void 0,(function*(){return this.accessToken||(this.accessToken=(yield this.httpService.get("/cssoapi/v2/session/accessToken")).accessToken),this.accessToken}))}getCssoCustomer(){return ye(this,void 0,void 0,(function*(){return this.getCustomer().catch((e=>{throw e instanceof ee&&401===e.status?ge.createLoginRequiredError():e}))}))}isCssoSessionValid(){return ye(this,void 0,void 0,(function*(){const e=yield this.getCustomer().catch((e=>{if(!(e instanceof ee)||401!==e.status)throw e}));let t=!1;if(e){const i=yield this.auth0SdkService.getUser();t=!i||e.email===i.email}return t}))}isCssoSessionRequired(){return!this.cssoSessionConfig.skipCheck}checkSession(){return ye(this,void 0,void 0,(function*(){yield this.httpService.get(pe),this.lastRefreshTime=new Date}))}exchangeTokens(){return ye(this,void 0,void 0,(function*(){const e=yield this.auth0SdkService.getAccessTokenSilently({authorizationParams:{audience:se}});yield this.httpService.get("/cssoapi/v2/session/token",{AUTH0_ACCESS_TOKEN:e}),this.lastRefreshTime=new Date}))}getCustomer(){return ye(this,void 0,void 0,(function*(){const e=(yield this.httpService.get("/cssoapi/v2/customer/basic")).customer;return this.lastRefreshTime=new Date,e}))}logout(){return ye(this,void 0,void 0,(function*(){this.lastRefreshTime=void 0,yield this.httpService.delete(pe)}))}hasCssoBeenRecentlyCalled(){return(this.lastRefreshTime?Math.floor((Date.now()-this.lastRefreshTime.getTime())/1e3/60):10)<3}}var be=function(){return be=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},be.apply(this,arguments)};function Se(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function ke(e,t){var i,n,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function _e(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n}Object.create,Object.create;function Ce(e,t){return new Promise((function(i){return setTimeout(i,e,t)}))}function Te(e,t){try{var i=e();(n=i)&&"function"==typeof n.then?i.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,i)}catch(e){t(!1,e)}var n}function xe(e,t,i){return void 0===i&&(i=16),Se(this,void 0,void 0,(function(){var n,r,o;return ke(this,(function(a){switch(a.label){case 0:n=Date.now(),r=0,a.label=1;case 1:return r<e.length?(t(e[r],r),(o=Date.now())>=n+i?(n=o,[4,Ce(0)]):[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return++r,[3,1];case 4:return[2]}}))}))}function Ie(e){e.then(void 0,(function(){}))}function Oe(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var i=[0,0,0,0];return i[3]+=e[3]+t[3],i[2]+=i[3]>>>16,i[3]&=65535,i[2]+=e[2]+t[2],i[1]+=i[2]>>>16,i[2]&=65535,i[1]+=e[1]+t[1],i[0]+=i[1]>>>16,i[1]&=65535,i[0]+=e[0]+t[0],i[0]&=65535,[i[0]<<16|i[1],i[2]<<16|i[3]]}function Le(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var i=[0,0,0,0];return i[3]+=e[3]*t[3],i[2]+=i[3]>>>16,i[3]&=65535,i[2]+=e[2]*t[3],i[1]+=i[2]>>>16,i[2]&=65535,i[2]+=e[3]*t[2],i[1]+=i[2]>>>16,i[2]&=65535,i[1]+=e[1]*t[3],i[0]+=i[1]>>>16,i[1]&=65535,i[1]+=e[2]*t[2],i[0]+=i[1]>>>16,i[1]&=65535,i[1]+=e[3]*t[1],i[0]+=i[1]>>>16,i[1]&=65535,i[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],i[0]&=65535,[i[0]<<16|i[1],i[2]<<16|i[3]]}function je(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function Re(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function Ae(e,t){return[e[0]^t[0],e[1]^t[1]]}function Pe(e){return e=Ae(e,[0,e[0]>>>1]),e=Ae(e=Le(e,[4283543511,3981806797]),[0,e[0]>>>1]),Ae(e=Le(e,[3301882366,444984403]),[0,e[0]>>>1])}function We(e){return parseInt(e)}function Ee(e){return parseFloat(e)}function Ve(e,t){return"number"==typeof e&&isNaN(e)?t:e}function Ze(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function ze(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var i=1/t;return Math.round(e*i)/i}function Ne(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function De(e){return"function"!=typeof e}function Xe(e,t,i){var n=Object.keys(e).filter((function(e){return!function(e,t){for(var i=0,n=e.length;i<n;++i)if(e[i]===t)return!0;return!1}(i,e)})),r=Array(n.length);return xe(n,(function(i,n){r[n]=function(e,t){var i=new Promise((function(i){var n=Date.now();Te(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Date.now()-n;if(!e[0])return i((function(){return{error:Ne(e[1]),duration:r}}));var o=e[1];if(De(o))return i((function(){return{value:o,duration:r}}));i((function(){return new Promise((function(e){var t=Date.now();Te(o,(function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var o=r+Date.now()-t;if(!i[0])return e({error:Ne(i[1]),duration:o});e({value:i[1],duration:o})}))}))}))}))}));return Ie(i),function(){return i.then((function(e){return e()}))}}(e[i],t)})),function(){return Se(this,void 0,void 0,(function(){var e,t,i,o,a,s;return ke(this,(function(c){switch(c.label){case 0:for(e={},t=0,i=n;t<i.length;t++)o=i[t],e[o]=void 0;a=Array(n.length),s=function(){var t;return ke(this,(function(i){switch(i.label){case 0:return t=!0,[4,xe(n,(function(i,n){if(!a[n])if(r[n]){var o=r[n]().then((function(t){return e[i]=t}));Ie(o),a[n]=o}else t=!1}))];case 1:return i.sent(),t?[2,"break"]:[4,Ce(1)];case 2:return i.sent(),[2]}}))},c.label=1;case 1:return[5,s()];case 2:if("break"===c.sent())return[3,4];c.label=3;case 3:return[3,1];case 4:return[4,Promise.all(a)];case 5:return c.sent(),[2,e]}}))}))}}function Fe(){var e=window,t=navigator;return Ze(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function Me(){var e=window,t=navigator;return Ze(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function Ue(){var e=window,t=navigator;return Ze(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function He(){var e=window;return Ze(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function Be(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function Ge(){var e=Me(),t=function(){var e,t,i=window;return Ze(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in i,"mozInnerScreenX"in i,"CSSMozDocumentRule"in i,"CanvasCaptureMediaStream"in i])>=4}();if(!e&&!t)return!1;var i=window;return Ze(["onorientationchange"in i,"orientation"in i,e&&!("SharedWorker"in i),t&&/android/i.test(navigator.appVersion)])>=2}function Ye(e){var t=new Error(e);return t.name=e,t}function Je(e,t,i){var n,r,o;return void 0===i&&(i=50),Se(this,void 0,void 0,(function(){var a,s;return ke(this,(function(c){switch(c.label){case 0:a=document,c.label=1;case 1:return a.body?[3,3]:[4,Ce(i)];case 2:return c.sent(),[3,1];case 3:s=a.createElement("iframe"),c.label=4;case 4:return c.trys.push([4,,10,11]),[4,new Promise((function(e,i){var n=!1,r=function(){n=!0,e()};s.onload=r,s.onerror=function(e){n=!0,i(e)};var o=s.style;o.setProperty("display","block","important"),o.position="absolute",o.top="0",o.left="0",o.visibility="hidden",t&&"srcdoc"in s?s.srcdoc=t:s.src="about:blank",a.body.appendChild(s);var c=function(){var e,t;n||("complete"===(null===(t=null===(e=s.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?r():setTimeout(c,10))};c()}))];case 5:c.sent(),c.label=6;case 6:return(null===(r=null===(n=s.contentWindow)||void 0===n?void 0:n.document)||void 0===r?void 0:r.body)?[3,8]:[4,Ce(i)];case 7:return c.sent(),[3,6];case 8:return[4,e(s,s.contentWindow)];case 9:return[2,c.sent()];case 10:return null===(o=s.parentNode)||void 0===o||o.removeChild(s),[7];case 11:return[2]}}))}))}function Ke(e){for(var t=function(e){for(var t,i,n="Unexpected syntax '"+e+"'",r=/^\s*([a-z-]*)(.*)$/i.exec(e),o=r[1]||void 0,a={},s=/([.:#][\w-]+|\[.+?\])/gi,c=function(e,t){a[e]=a[e]||[],a[e].push(t)};;){var u=s.exec(r[2]);if(!u)break;var l=u[0];switch(l[0]){case".":c("class",l.slice(1));break;case"#":c("id",l.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(l);if(!d)throw new Error(n);c(d[1],null!==(i=null!==(t=d[4])&&void 0!==t?t:d[5])&&void 0!==i?i:"");break;default:throw new Error(n)}}return[o,a]}(e),i=t[0],n=t[1],r=document.createElement(null!=i?i:"div"),o=0,a=Object.keys(n);o<a.length;o++){var s=a[o],c=n[s].join(" ");"style"===s?qe(r.style,c):r.setAttribute(s,c)}return r}function qe(e,t){for(var i=0,n=t.split(";");i<n.length;i++){var r=n[i],o=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(r);if(o){var a=o[1],s=o[2],c=o[4];e.setProperty(a,s,c||"")}}}var $e,Qe,et=["monospace","sans-serif","serif"],tt=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function it(e){return e.toDataURL()}function nt(){var e=screen;return[Ve(Ee(e.availTop),null),Ve(Ee(e.width)-Ee(e.availWidth)-Ve(Ee(e.availLeft),0),null),Ve(Ee(e.height)-Ee(e.availHeight)-Ve(Ee(e.availTop),0),null),Ve(Ee(e.availLeft),null)]}function rt(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function ot(e){var t;return Se(this,void 0,void 0,(function(){var i,n,r,o,a,s,c;return ke(this,(function(u){switch(u.label){case 0:for(i=document,n=i.createElement("div"),r=new Array(e.length),o={},at(n),c=0;c<e.length;++c)a=Ke(e[c]),at(s=i.createElement("div")),s.appendChild(a),n.appendChild(s),r[c]=a;u.label=1;case 1:return i.body?[3,3]:[4,Ce(50)];case 2:return u.sent(),[3,1];case 3:i.body.appendChild(n);try{for(c=0;c<e.length;++c)r[c].offsetParent||(o[e[c]]=!0)}finally{null===(t=n.parentNode)||void 0===t||t.removeChild(n)}return[2,o]}}))}))}function at(e){e.style.setProperty("display","block","important")}function st(e){return matchMedia("(inverted-colors: "+e+")").matches}function ct(e){return matchMedia("(forced-colors: "+e+")").matches}function ut(e){return matchMedia("(prefers-contrast: "+e+")").matches}function lt(e){return matchMedia("(prefers-reduced-motion: "+e+")").matches}function dt(e){return matchMedia("(dynamic-range: "+e+")").matches}var ht=Math,ft=function(){return 0},pt={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},mt={fonts:function(){return Je((function(e,t){var i=t.document,n=i.body;n.style.fontSize="48px";var r=i.createElement("div"),o={},a={},s=function(e){var t=i.createElement("span"),n=t.style;return n.position="absolute",n.top="0",n.left="0",n.fontFamily=e,t.textContent="mmMwWLliI0O&1",r.appendChild(t),t},c=et.map(s),u=function(){for(var e={},t=function(t){e[t]=et.map((function(e){return function(e,t){return s("'"+e+"',"+t)}(t,e)}))},i=0,n=tt;i<n.length;i++)t(n[i]);return e}();n.appendChild(r);for(var l=0;l<et.length;l++)o[et[l]]=c[l].offsetWidth,a[et[l]]=c[l].offsetHeight;return tt.filter((function(e){return t=u[e],et.some((function(e,i){return t[i].offsetWidth!==o[e]||t[i].offsetHeight!==a[e]}));var t}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return Se(this,void 0,void 0,(function(){var e,i,n,r,o;return ke(this,(function(a){switch(a.label){case 0:return Ue()||Ge()?(s=atob,e={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",s("YVt0aXRsZT0iN25hZ2EgcG9rZXIiIGld"),'[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",s("Lmlvc0Fkc2lvc0Fkcy1sYXlvdXQ="),".quangcao",s("W2hyZWZePSJodHRwczovL3I4OC52bi8iXQ=="),s("W2hyZWZePSJodHRwczovL3piZXQudm4vIl0=")],adBlockFinland:[".mainostila",s("LnNwb25zb3JpdA=="),".ylamainos",s("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",s("I2FkMl9pbmxpbmU=")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",s("LmhlYWRlci1ibG9ja2VkLWFk"),s("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:[".BetterJsPopOverlay",s("I2FkXzMwMFgyNTA="),s("I2Jhbm5lcmZsb2F0MjI="),s("I2FkLWJhbm5lcg=="),s("I2NhbXBhaWduLWJhbm5lcg==")],adGuardChinese:[s("LlppX2FkX2FfSA=="),s("YVtocmVmKj0iL29kMDA1LmNvbSJd"),s("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),".qq_nr_lad","#widget-quan"],adGuardFrench:[s("I2Jsb2NrLXZpZXdzLWFkcy1zaWRlYmFyLWJsb2NrLWJsb2Nr"),"#pavePub",s("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv"],adGuardGerman:[s("LmJhbm5lcml0ZW13ZXJidW5nX2hlYWRfMQ=="),s("LmJveHN0YXJ0d2VyYnVuZw=="),s("LndlcmJ1bmcz"),s("YVtocmVmXj0iaHR0cDovL3d3dy5laXMuZGUvaW5kZXgucGh0bWw/cmVmaWQ9Il0="),s("YVtocmVmXj0iaHR0cHM6Ly93d3cudGlwaWNvLmNvbS8/YWZmaWxpYXRlSWQ9Il0=")],adGuardJapanese:["#kauli_yad_1",s("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),s("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),s("LmFkZ29vZ2xl"),s("LmFkX3JlZ3VsYXIz")],adGuardMobile:[s("YW1wLWF1dG8tYWRz"),s("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",s("I2FkX2ludmlld19hcmVh")],adGuardRussian:[s("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),s("LnJlY2xhbWE="),'div[id^="smi2adblock"]',s("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),s("I2FkX3NxdWFyZQ==")],adGuardSocial:[s("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),s("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",s("W2hyZWZePSJodHRwOi8vYWRzLmdsaXNwYS5jb20vIl0=")],adGuardTrackingProtection:["#qoo-counter",s("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),s("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),s("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",s("I3Jla2xhbWk="),s("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),s("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),s("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[s("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers",s("I25ld0Fk")],easyList:[s("I0FEX0NPTlRST0xfMjg="),s("LnNlY29uZC1wb3N0LWFkcy13cmFwcGVy"),".universalboxADVBOX03",s("LmFkdmVydGlzZW1lbnQtNzI4eDkw"),s("LnNxdWFyZV9hZHM=")],easyListChina:[s("YVtocmVmKj0iLndlbnNpeHVldGFuZy5jb20vIl0="),s("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),s("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box"],easyListCookie:["#AdaCompliance.app-notice",".text-center.rgpd",".panel--cookie",".js-cookies-andromeda",".elxtr-consent"],easyListCzechSlovak:["#onlajny-stickers",s("I3Jla2xhbW5pLWJveA=="),s("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",s("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[s("I2FkdmVydGVudGll"),s("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",s("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:[s("I0FkX1dpbjJkYXk="),s("I3dlcmJ1bmdzYm94MzAw"),s("YVtocmVmXj0iaHR0cDovL3d3dy5yb3RsaWNodGthcnRlaS5jb20vP3NjPSJd"),s("I3dlcmJ1bmdfd2lkZXNreXNjcmFwZXJfc2NyZWVu"),s("YVtocmVmXj0iaHR0cDovL2xhbmRpbmcucGFya3BsYXR6a2FydGVpLmNvbS8/YWc9Il0=")],easyListItaly:[s("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",s("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[s("LnJla2xhbW9zX3RhcnBhcw=="),s("LnJla2xhbW9zX251b3JvZG9z"),s("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),s("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),s("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[s("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:[s("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),s("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",s("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[s("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),s("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),s("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",s("LmFkX19tYWlu"),s("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:[s("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[s("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),s("I2xpdmVyZUFkV3JhcHBlcg=="),s("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),s("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[s("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",s("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),s("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),s("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[s("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),s("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),s("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",s("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),s("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),s("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),s("ZGl2I3NrYXBpZWNfYWQ=")],ro:[s("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),'a[href^="/magazin/"]',s("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),s("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd")],ruAd:[s("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),s("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),s("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",s("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),s("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",s("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},i=Object.keys(e),[4,ot((o=[]).concat.apply(o,i.map((function(t){return e[t]}))))]):[2,void 0];case 1:return n=a.sent(),t&&function(e,t){for(var i="DOM blockers debug:\n```",n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];i+="\n"+o+":";for(var a=0,s=e[o];a<s.length;a++){var c=s[a];i+="\n  "+(t[c]?"":"")+" "+c}}console.log(i+"\n```")}(e,n),(r=i.filter((function(t){var i=e[t];return Ze(i.map((function(e){return n[e]})))>.6*i.length}))).sort(),[2,r]}var s}))}))},fontPreferences:function(){return void 0===e&&(e=4e3),Je((function(t,i){var n=i.document,r=n.body,o=r.style;o.width=e+"px",o.webkitTextSizeAdjust=o.textSizeAdjust="none",Me()?r.style.zoom=""+1/i.devicePixelRatio:Ue()&&(r.style.zoom="reset");var a=n.createElement("div");return a.textContent=_e(Array(e/20<<0)).map((function(){return"word"})).join(" "),r.appendChild(a),function(e,t){for(var i={},n={},r=0,o=Object.keys(pt);r<o.length;r++){var a=o[r],s=pt[a],c=s[0],u=void 0===c?{}:c,l=s[1],d=void 0===l?"mmMwWLliI0fiflO&1":l,h=e.createElement("span");h.textContent=d,h.style.whiteSpace="nowrap";for(var f=0,p=Object.keys(u);f<p.length;f++){var m=p[f],v=u[m];void 0!==v&&(h.style[m]=v)}i[a]=h,t.appendChild(e.createElement("br")),t.appendChild(h)}for(var g=0,y=Object.keys(pt);g<y.length;g++)n[a=y[g]]=i[a].getBoundingClientRect().width;return n}(n,r)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">');var e},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(Ue()&&!He()&&!function(){var e=window;return Ze(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var i=new t(1,5e3,44100),n=i.createOscillator();n.type="triangle",n.frequency.value=1e4;var r=i.createDynamicsCompressor();r.threshold.value=-50,r.knee.value=40,r.ratio.value=12,r.attack.value=0,r.release.value=.25,n.connect(r),r.connect(i.destination),n.start(0);var o=function(e){var t=function(){};return[new Promise((function(i,n){var r=!1,o=0,a=0;e.oncomplete=function(e){return i(e.renderedBuffer)};var s=function(){setTimeout((function(){return n(Ye("timeout"))}),Math.min(500,a+5e3-Date.now()))},c=function(){try{switch(e.startRendering(),e.state){case"running":a=Date.now(),r&&s();break;case"suspended":document.hidden||o++,r&&o>=3?n(Ye("suspended")):setTimeout(c,500)}}catch(e){n(e)}};c(),t=function(){r||(r=!0,a>0&&s())}})),t]}(i),a=o[0],s=o[1],c=a.then((function(e){return function(e){for(var t=0,i=0;i<e.length;++i)t+=Math.abs(e[i]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return Ie(c),function(){return s(),c}},screenFrame:function(){var e=this,t=function(){var e=this;return function(){if(void 0===Qe){var e=function(){var t=nt();rt(t)?Qe=setTimeout(e,2500):($e=t,Qe=void 0)};e()}}(),function(){return Se(e,void 0,void 0,(function(){var e;return ke(this,(function(t){switch(t.label){case 0:return rt(e=nt())?$e?[2,_e($e)]:function(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}()?[4,Be()]:[3,2]:[3,2];case 1:t.sent(),e=nt(),t.label=2;case 2:return rt(e)||($e=e),[2,e]}}))}))}}();return function(){return Se(e,void 0,void 0,(function(){var e,i;return ke(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),[2,[(i=function(e){return null===e?null:ze(e,10)})(e[0]),i(e[1]),i(e[2]),i(e[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var e=navigator,t=[],i=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(void 0!==i&&t.push([i]),Array.isArray(e.languages))Me()&&function(){var e=window;return Ze([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}()||t.push(e.languages);else if("string"==typeof e.languages){var n=e.languages;n&&t.push(n.split(","))}return t},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return Ve(Ee(navigator.deviceMemory),void 0)},screenResolution:function(){var e=screen,t=function(e){return Ve(We(e),null)},i=[t(e.width),t(e.height)];return i.sort().reverse(),i},hardwareConcurrency:function(){return Ve(We(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var i=(new t).resolvedOptions().timeZone;if(i)return i}var n,r=(n=(new Date).getFullYear(),-Math.max(Ee(new Date(n,0,1).getTimezoneOffset()),Ee(new Date(n,6,1).getTimezoneOffset())));return"UTC"+(r>=0?"+":"")+Math.abs(r)},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!Fe()&&!function(){var e=window,t=navigator;return Ze(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!Fe()}())try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&Ue()&&!He()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return Ze(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],i=0;i<e.length;++i){var n=e[i];if(n){for(var r=[],o=0;o<n.length;++o){var a=n[o];r.push({type:a.type,suffixes:a.suffixes})}t.push({name:n.name,description:n.description,mimeTypes:r})}}return t}},canvas:function(){var e,t,i=!1,n=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),r=n[0],o=n[1];if(function(e,t){return!(!t||!e.toDataURL)}(r,o)){i=function(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}(o),function(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var i="Cwm fjordbank gly "+String.fromCharCode(55357,56835);t.fillText(i,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(i,4,45)}(r,o);var a=it(r);a!==it(r)?e=t="unstable":(t=a,function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var i=0,n=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];i<n.length;i++){var r=n[i],o=r[0],a=r[1],s=r[2];t.fillStyle=o,t.beginPath(),t.arc(a,s,40,0,2*Math.PI,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd")}(r,o),e=it(r))}else e=t="";return{winding:i,geometry:e,text:t}},touchSupport:function(){var e,t=navigator,i=0;void 0!==t.maxTouchPoints?i=We(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(i=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:i,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,i=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<i.length;t++){var n=i[t],r=window[n];r&&"object"==typeof r&&e.push(n)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var i=t[e];if(matchMedia("(color-gamut: "+i+")").matches)return i}},invertedColors:function(){return!!st("inverted")||!st("none")&&void 0},forcedColors:function(){return!!ct("active")||!ct("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: "+e+")").matches)return e;throw new Error("Too high value")}},contrast:function(){return ut("no-preference")?0:ut("high")||ut("more")?1:ut("low")||ut("less")?-1:ut("forced")?10:void 0},reducedMotion:function(){return!!lt("reduce")||!lt("no-preference")&&void 0},hdr:function(){return!!dt("high")||!dt("standard")&&void 0},math:function(){var e,t=ht.acos||ft,i=ht.acosh||ft,n=ht.asin||ft,r=ht.asinh||ft,o=ht.atanh||ft,a=ht.atan||ft,s=ht.sin||ft,c=ht.sinh||ft,u=ht.cos||ft,l=ht.cosh||ft,d=ht.tan||ft,h=ht.tanh||ft,f=ht.exp||ft,p=ht.expm1||ft,m=ht.log1p||ft;return{acos:t(.12312423423423424),acosh:i(1e308),acoshPf:(e=1e154,ht.log(e+ht.sqrt(e*e-1))),asin:n(.12312423423423424),asinh:r(1),asinhPf:ht.log(1+ht.sqrt(2)),atanh:o(.5),atanhPf:ht.log(3)/2,atan:a(.5),sin:s(-1e300),sinh:c(1),sinhPf:ht.exp(1)-1/ht.exp(1)/2,cos:u(10.000000000123),cosh:l(1),coshPf:(ht.exp(1)+1/ht.exp(1))/2,tan:d(-1e300),tanh:h(1),tanhPf:(ht.exp(2)-1)/(ht.exp(2)+1),exp:f(1),expm1:p(1),expm1Pf:ht.exp(1)-1,log1p:m(10),log1pPf:ht.log(11),powPI:ht.pow(ht.PI,-100)}}};function vt(e){var t=function(e){if(Ge())return.4;if(Ue())return He()?.5:.3;var t=e.platform.value||"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}(e),i=function(e){return ze(.99+.01*e,1e-4)}(t);return{score:t,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,""+i)}}function gt(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?be({name:(i=t).name,message:i.message,stack:null===(n=i.stack)||void 0===n?void 0:n.split("\n")},i):t;var i,n}),2)}function yt(e){return function(e,t){t=t||0;var i,n=(e=e||"").length%16,r=e.length-n,o=[0,t],a=[0,t],s=[0,0],c=[0,0],u=[2277735313,289559509],l=[1291169091,658871167];for(i=0;i<r;i+=16)s=[255&e.charCodeAt(i+4)|(255&e.charCodeAt(i+5))<<8|(255&e.charCodeAt(i+6))<<16|(255&e.charCodeAt(i+7))<<24,255&e.charCodeAt(i)|(255&e.charCodeAt(i+1))<<8|(255&e.charCodeAt(i+2))<<16|(255&e.charCodeAt(i+3))<<24],c=[255&e.charCodeAt(i+12)|(255&e.charCodeAt(i+13))<<8|(255&e.charCodeAt(i+14))<<16|(255&e.charCodeAt(i+15))<<24,255&e.charCodeAt(i+8)|(255&e.charCodeAt(i+9))<<8|(255&e.charCodeAt(i+10))<<16|(255&e.charCodeAt(i+11))<<24],s=je(s=Le(s,u),31),o=Oe(o=je(o=Ae(o,s=Le(s,l)),27),a),o=Oe(Le(o,[0,5]),[0,1390208809]),c=je(c=Le(c,l),33),a=Oe(a=je(a=Ae(a,c=Le(c,u)),31),o),a=Oe(Le(a,[0,5]),[0,944331445]);switch(s=[0,0],c=[0,0],n){case 15:c=Ae(c,Re([0,e.charCodeAt(i+14)],48));case 14:c=Ae(c,Re([0,e.charCodeAt(i+13)],40));case 13:c=Ae(c,Re([0,e.charCodeAt(i+12)],32));case 12:c=Ae(c,Re([0,e.charCodeAt(i+11)],24));case 11:c=Ae(c,Re([0,e.charCodeAt(i+10)],16));case 10:c=Ae(c,Re([0,e.charCodeAt(i+9)],8));case 9:c=Le(c=Ae(c,[0,e.charCodeAt(i+8)]),l),a=Ae(a,c=Le(c=je(c,33),u));case 8:s=Ae(s,Re([0,e.charCodeAt(i+7)],56));case 7:s=Ae(s,Re([0,e.charCodeAt(i+6)],48));case 6:s=Ae(s,Re([0,e.charCodeAt(i+5)],40));case 5:s=Ae(s,Re([0,e.charCodeAt(i+4)],32));case 4:s=Ae(s,Re([0,e.charCodeAt(i+3)],24));case 3:s=Ae(s,Re([0,e.charCodeAt(i+2)],16));case 2:s=Ae(s,Re([0,e.charCodeAt(i+1)],8));case 1:s=Le(s=Ae(s,[0,e.charCodeAt(i)]),u),o=Ae(o,s=Le(s=je(s,31),l))}return o=Oe(o=Ae(o,[0,e.length]),a=Ae(a,[0,e.length])),a=Oe(a,o),o=Oe(o=Pe(o),a=Pe(a)),a=Oe(a,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}(function(e){for(var t="",i=0,n=Object.keys(e).sort();i<n.length;i++){var r=n[i],o=e[r],a=o.error?"error":JSON.stringify(o.value);t+=(t?"|":"")+r.replace(/([:|\\])/g,"\\$1")+":"+a}return t}(e))}function wt(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var i=window.requestIdleCallback;return i?new Promise((function(e){return i.call(window,(function(){return e()}),{timeout:t})})):Ce(Math.min(e,t))}(e,2*e)}function bt(e,t){var i=Date.now();return{get:function(n){return Se(this,void 0,void 0,(function(){var r,o,a;return ke(this,(function(s){switch(s.label){case 0:return r=Date.now(),[4,e()];case 1:return o=s.sent(),a=function(e){var t;return{get visitorId(){return void 0===t&&(t=yt(this.components)),t},set visitorId(e){t=e},confidence:vt(e),components:e,version:"3.3.6"}}(o),(t||(null==n?void 0:n.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: "+a.version+"\nuserAgent: "+navigator.userAgent+"\ntimeBetweenLoadAndGet: "+(r-i)+"\nvisitorId: "+a.visitorId+"\ncomponents: "+gt(o)+"\n```"),[2,a]}}))}))}}}var St={load:function(e){var t=void 0===e?{}:e,i=t.delayFallback,n=t.debug,r=t.monitoring,o=void 0===r||r;return Se(this,void 0,void 0,(function(){return ke(this,(function(e){switch(e.label){case 0:return o&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v3.3.6/npm-monitoring",!0),e.send()}catch(e){console.error(e)}}(),[4,wt(i)];case 1:return e.sent(),[2,bt(Xe(mt,{debug:n},[]),n)]}}))}))},hashComponents:yt,componentsToDebugString:gt},kt=i(452),_t=i.n(kt),Ct=i(743),Tt=i.n(Ct),xt=i(819),It=i.n(xt);const Ot="appState";class Lt{initialise(){return function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const e=yield St.load(),t=yield e.get();It().config.encrypt=!0,It().config.decrypt=!0,It().config.secret=t.visitorId,It().config.encrypter=(e,t)=>_t().encrypt(JSON.stringify(e),t).toString(),It().config.decrypter=(e,t)=>JSON.parse(_t().decrypt(e,t).toString(Tt()))}))}setAppState(e){e&&Object.keys(e).length>0?It().set(Ot,e,{ttl:3600}):this.removeAppState()}getAppState(){return It().get(Ot)||{}}removeAppState(){It().remove(Ot)}}const jt=[/^https:\/\/(?:[^/]+?\.)?auspost(?:\.com\.au)?(?:\/?|\/.*)$/],Rt=/^(?:http(s)?:\/\/(?:www\.)?|www\.)[a-z0-9]+(?:[-.][a-z0-9]+)*\.[a-z]{2,5}(?::[0-9]{1,5})?(?:\/\S*)?$/,At=/^http(s)?:\/\/localhost:[0-9]{4,5}(?:.*\/\S*)?$/,Pt=/^localhost:[0-9]{4,5}(?:.*\/\S*)?$/,Wt=["<",">","%3e","%3c","javascript"],Et=/^[a-zA-Z0-9_-]*$/;class Vt{validateAuthWebConfig(e){this.validateClientId(e.clientId),this.validateEnv(e.env),this.validateRedirectUrl(e.redirectUrl,"authWebConfig.redirectUrl"),e.caller&&this.validateReportingProperty(e.caller,"authWebConfig.caller"),e.channel&&this.validateReportingProperty(e.channel,"authWebConfig.channel"),e.product&&this.validateReportingProperty(e.product,"authWebConfig.product"),e.audience&&this.validateInvalidChars(e.audience,"authWebConfig.audience"),e.scope&&this.validateInvalidChars(e.scope,"authWebConfig.scope"),e.stubDomain&&this.validateStubDomain(e.stubDomain),e.stubApiBaseUrl&&this.validateStubApiBaseUrl(e.stubApiBaseUrl)}validateLoginConfig(e){e.audience&&this.validateInvalidChars(e.audience,"loginConfig.audience"),e.scope&&this.validateInvalidChars(e.scope,"loginConfig.scope"),e.emailAddress&&this.validateInvalidChars(e.emailAddress,"loginConfig.emailAddress"),e.redirectUrl&&this.validateRedirectUrl(e.redirectUrl,"loginConfig.redirectUrl"),e.appState&&this.validateAppState(e.appState)}validateLogoutUrl(e){this.validateInvalidChars(e,"logout url"),!this.isLocalhostUrl(e)&&this.validateUrlRegex(e,"logout url")}validateGetTokenConfig(e){e.audience&&this.validateInvalidChars(e.audience,"getTokenConfig.audience"),e.scope&&this.validateInvalidChars(e.scope,"getTokenConfig.scope")}validateTargetUrl(e){this.validateUrl(e,"appState.targetUrl",!0)}validateUrl(e,t,i=!1){this.isLocalhostUrl(e)||(this.validateUrlRegex(e,t),i&&this.validateUrlWhitelist(e,t)),this.validateTextLength(e,500,t),this.validateInvalidChars(e,t)}validateClientId(e){if(!e)throw new Error("authWebConfig.clientId is required");this.validateLetterDigitsDashUnderScore(e,"authWebConfig.clientId")}validateEnv(e){if(!e)throw new Error("authWebConfig.env is required");if(t=e,!(null===(i=Object.entries(K).find((([e,i])=>i===t)))||void 0===i?void 0:i[0]))throw new Error("authWebConfig.env is invalid");var t,i}validateRedirectUrl(e,t){if(!e)throw new Error(`${t} is required`);this.validateInvalidChars(e,t),!this.isLocalhostUrl(e)&&this.validateUrlRegex(e,t)}validateStubDomain(e){if(!Pt.test(e))throw new Error("authWebConfig.stubDomain is invalid")}validateStubApiBaseUrl(e){if(!this.isLocalhostUrl(e))throw new Error("authWebConfig.stubApiBaseUrl is invalid");this.validateInvalidChars(e,"authWebConfig.stubApiBaseUrl")}validateAppState(e){e.caller&&this.validateReportingProperty(e.caller,"loginConfig.appState.caller"),e.channel&&this.validateReportingProperty(e.channel,"loginConfig.appState.channel"),e.product&&this.validateReportingProperty(e.product,"loginConfig.appState.product"),e.signupUrl&&this.validateUrl(e.signupUrl,"loginConfig.appState.signupUrl",!0),e.targetUrl&&this.validateTargetUrl(e.targetUrl)}validateReportingProperty(e,t){this.validateTextLength(e,30,t),this.validateLetterDigitsDashUnderScore(e,t)}validateUrlRegex(e,t){if(!Rt.test(e))throw new Error(`${t} is invalid`)}validateUrlWhitelist(e,t){if(!jt.some((t=>t.test(e))))throw new Error(`${t} domain not whitelisted`)}validateInvalidChars(e,t){if(Wt.some((t=>e.toLowerCase().includes(t))))throw new Error(`${t} is invalid`)}validateLetterDigitsDashUnderScore(e,t){if(!Et.test(e))throw new Error(`${t} is invalid`)}validateTextLength(e,t,i){if(e.length>t)throw new Error(`${i} length limit exceeded`)}isLocalhostUrl(e){return At.test(e)}}var Zt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};class zt{constructor(e){this.serviceFactory=e,this.auth0SdkService=e.getService(de.name),this.cssoSessionService=e.getService(we.name),this.localStorageService=e.getService(Lt.name),this.validatorService=e.getService(Vt.name),this.windowRefService=e.getService($.name)}handleRedirectIfNeeded(){return Zt(this,void 0,void 0,(function*(){const e=this.windowRefService.nativeWindow.location.search,t=e.includes("code=")&&e.includes("state=");let i={};if(e.includes("error=")&&e.includes("error_description=")){const t=new URLSearchParams(e),i=t.get("error");if("reauth-required"===t.get("error_description"))console.log("Auth0: reauth required"),yield this.auth0SdkService.login({authorizationParams:{max_age:0}});else if("invalid_grant"===i)console.log("Auth0: invalid refresh token"),yield this.auth0SdkService.login({authorizationParams:{max_age:0}});else{const e=`${this.windowRefService.nativeWindow.location.origin}/autherror?error=${i}`;this.windowRefService.nativeWindow.location.replace(e)}}if(t){yield this.parseAuth0Result(),i=this.localStorageService.getAppState(),this.localStorageService.removeAppState();const e=yield this.cssoSessionService.setCssoSessionIfNeeded();if(e)return{loginRequired:e,appState:i};yield this.redirectToTargetIfDefined(i)}return{appState:i}}))}parseAuth0Result(){return Zt(this,void 0,void 0,(function*(){try{yield this.auth0SdkService.handleRedirectCallback()}catch(e){console.warn("Error when parsing redirect from Auth0:",e.message)}this.windowRefService.nativeWindow.history.replaceState({},document.title,this.windowRefService.nativeWindow.location.pathname)}))}redirectToTargetIfDefined(e){return Zt(this,void 0,void 0,(function*(){const{targetUrl:t}=e;t&&this.validatorService.validateTargetUrl(t),t&&!e.skipUrlReload&&this.windowRefService.nativeWindow.location.href!==t&&(this.windowRefService.nativeWindow.location.replace(t),yield new Promise((e=>setTimeout(e,2e3))))}))}}const Nt={[K.PROD]:oe.PROD,[K.SANDBOX]:oe.SANDBOX,[K.VTEST]:oe.VTEST,[K.STEST]:oe.STEST,[K.PTEST]:oe.PTEST,[K.DEV]:oe.DEV,[K.PLAYPEN]:oe.PLAYPEN,[K.LOCALHOST]:oe.LOCALHOST};class Dt{transformAuthWebConfig(e){const t=e.stubDomain?e.stubDomain:Nt[e.env],{clientId:i,audience:n,redirectUrl:r,scope:o,useLocalStorage:a,maxAge:s}=e;return Object.assign(Object.assign({clientId:i,domain:t,authorizationParams:Object.assign(Object.assign(Object.assign({redirect_uri:r},!!n&&{audience:n}),!!o&&{scope:`${o} email profile`}),!!s&&{max_age:s})},e.env===K.LOCALHOST&&{authorizeTimeoutInSeconds:1,httpTimeoutInSeconds:1}),a&&{cacheLocation:"localstorage"})}transformAppState(e,t){const{caller:i,channel:n,product:r,skipUrlReload:o,signupUrl:a,targetUrl:s,maxAge:c}=e.appState||{},u=e.redirectUrl||t.redirectUrl,l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},!!i&&{caller:i}||!!t.caller&&{caller:t.caller}),!!n&&{channel:n}||!!t.channel&&{channel:t.channel}),!!r&&{product:r}||!!t.product&&{product:t.product}),!!a&&{signupUrl:a}),!!s&&{targetUrl:s}),!!o&&{skipUrlReload:o}),!!u&&{_redirectUrl:u}),!!c&&{maxAge:c}||!!t.maxAge&&{max_age:t.maxAge});return Object.keys(l).length>0?l:void 0}transformLoginConfig(e){const t=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},!!e.audience&&{audience:e.audience}),!!e.scope&&{scope:e.scope}),!!e.redirectUrl&&{redirect_uri:e.redirectUrl}),!!e.emailAddress&&{login_hint:e.emailAddress}),!!e.forceLogin&&{prompt:ae.LOGIN}),!!e.maxAge&&{max_age:e.maxAge}),this.transformUlpCustomQueryParam(e)),i=Object.assign({},Object.keys(t).length>0&&{authorizationParams:t});return Object.keys(i).length>0?i:void 0}transformGetTokenConfig(e){if(e){const t=Object.assign(Object.assign({},!!e.audience&&{audience:e.audience}),!!e.scope&&{scope:e.scope}),i=Object.assign(Object.assign({},Object.keys(t).length>0&&{authorizationParams:t}),!!e.cacheMode&&{cacheMode:e.cacheMode});return Object.keys(i).length>0?i:void 0}}transformUser(e){if(e)return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({email:e.email},!!e.email_verified&&{emailVerified:e.email_verified}),!!e.family_name&&{surname:e.family_name}),!!e.given_name&&{firstName:e.given_name}),!!e["https://auspost/apcn"]&&{apcn:e["https://auspost/apcn"]}),!!e["https://auspost/cnumber"]&&{cNumber:e["https://auspost/cnumber"]})}transformCssoCustomer(e){return{email:e.email,surname:e.surname,firstName:e.firstName,apcn:e.customerId,cNumber:e.cNumber}}transformAuth0Error(e){return e instanceof l&&"login_required"===e.error?ge.createLoginRequiredError():e instanceof l&&"reauth-required"===e.message?ge.createReauthRequiredError():e}transformUlpCustomQueryParam(e){const t=e.appState||{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},!!e.hideSignup&&{"ext-hide_signup":"true"}),!!e.emailAlreadyRegistered&&{"ext-email_already_registered":"true"}),!!t.caller&&{"ext-caller":t.caller}),!!t.channel&&{"ext-channel":t.channel}),!!t.product&&{"ext-product":t.product})}}var Xt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};class Ft{constructor(e){this.serviceFactory=e,this.auth0SdkService=e.getService(de.name),this.auth0CallbackService=e.getService(zt.name),this.cssoSessionService=e.getService(we.name),this.httpService=e.getService(fe.name),this.localStorageService=e.getService(Lt.name),this.optionsTransformerService=e.getService(Dt.name),this.validatorService=e.getService(Vt.name)}initialise(e){return Xt(this,void 0,void 0,(function*(){this.authWebConfig=e,this.validatorService.validateAuthWebConfig(e),this.httpService.initialise(e.env,e.stubApiBaseUrl),this.cssoSessionService.initialise(e.cssoSessionConfig),yield this.localStorageService.initialise(),yield this.auth0SdkService.initialise(this.optionsTransformerService.transformAuthWebConfig(e),e.skipAuth0SdkMock),this.authWebConfig.verifyAuthenticationOnFocus&&this.verifyAuthenticationOnFocus();const t=yield this.auth0CallbackService.handleRedirectIfNeeded();return t.loginRequired&&(yield this.login({audience:se,forceLogin:!0,appState:t.appState})),t.appState}))}login(e={}){return Xt(this,void 0,void 0,(function*(){this.validatorService.validateLoginConfig(e),e.appState=this.optionsTransformerService.transformAppState(e,this.authWebConfig),this.localStorageService.setAppState(e.appState),e.forceLogin=!e.forceLogin&&!(yield this.cssoSessionService.checkCssoSessionIfNeeded()),yield this.auth0SdkService.login(this.optionsTransformerService.transformLoginConfig(e)).catch((e=>Xt(this,void 0,void 0,(function*(){const t=this.optionsTransformerService.transformAuth0Error(e);(t instanceof ge&&t.isLoginRequiredError()||t instanceof ge&&t.isReauthRequiredError())&&(yield this.auth0SdkService.login({authorizationParams:{max_age:0,prompt:"login"}}))}))))}))}logout(e,t){return Xt(this,void 0,void 0,(function*(){e&&this.validatorService.validateLogoutUrl(e),this.clearAuth0Localstorage(),yield this.cssoSessionService.logoutCssoSession(),yield this.auth0SdkService.logout(e||void 0,null!=t&&t)}))}isAuthenticated(){return Xt(this,void 0,void 0,(function*(){const e=this.isAuth0SessionRequired()?yield this.isAuth0SessionValid():void 0;if(!1===e)return!1;const t=this.cssoSessionService.isCssoSessionRequired()?yield this.cssoSessionService.isCssoSessionValid():void 0;return!1!==t&&(e||t||(yield this.isAuth0SessionValid())||(yield this.cssoSessionService.isCssoSessionValid()))}))}getAccessTokenSilently(e){return Xt(this,void 0,void 0,(function*(){if(e&&this.validatorService.validateGetTokenConfig(e),!(yield this.cssoSessionService.checkCssoSessionIfNeeded(!0)))throw ge.createLoginRequiredError();const t=yield this.auth0SdkService.getAccessTokenSilently(this.optionsTransformerService.transformGetTokenConfig(e)).catch((t=>Xt(this,void 0,void 0,(function*(){const i=this.optionsTransformerService.transformAuth0Error(t);return i instanceof ge&&i.isReauthRequiredError()?yield this.auth0SdkService.login({authorizationParams:{max_age:0,prompt:"login"}}):this.handleGetTokenError(t,this.isAuth0SessionRequired(e))}))));return yield this.cssoSessionService.refreshCssoSessionIfNeeded(),t||""}))}getUser(){return Xt(this,void 0,void 0,(function*(){if(!(yield this.cssoSessionService.checkCssoSessionIfNeeded(!0)))throw ge.createLoginRequiredError();const e=yield this.auth0SdkService.getUser();if(e)return this.optionsTransformerService.transformUser(e);if(!(yield this.auth0SdkService.isAuthenticated())){if(this.isAuth0SessionRequired())throw ge.createLoginRequiredError();return this.optionsTransformerService.transformCssoCustomer(yield this.cssoSessionService.getCssoCustomer())}}))}getAppState(e=!1){const t=this.localStorageService.getAppState();return e&&this.localStorageService.removeAppState(),t}isAuth0SessionRequired(e={}){return!!this.authWebConfig.auth0SessionRequired||!!this.authWebConfig.audience&&this.authWebConfig.audience!==se||!!e.audience&&e.audience!==se||!!this.authWebConfig.scope||!!e.scope}isAuth0SessionValid(){return Xt(this,void 0,void 0,(function*(){return(yield this.auth0SdkService.isAuthenticated())||!!(yield this.auth0SdkService.getAccessTokenSilently().catch((()=>!1)))}))}handleGetTokenError(e,t){return Xt(this,void 0,void 0,(function*(){const i=this.optionsTransformerService.transformAuth0Error(e);if(!t&&i instanceof ge&&i.isLoginRequiredError())return yield this.cssoSessionService.getAccessToken().catch((e=>{throw e instanceof ee&&401===e.status?i:e}));throw i}))}verifyAuthenticationOnFocus(){window.addEventListener("focus",(()=>{document.hidden||this.auth0SdkService.getAccessTokenSilently({cacheMode:"off"}).catch((()=>Xt(this,void 0,void 0,(function*(){yield this.auth0SdkService.login()}))))}))}clearAuth0Localstorage(){Object.keys(localStorage).filter((e=>e.includes("@@auth0spajs@@"))).forEach((e=>{localStorage.removeItem(e)}))}}class Mt{getService(e){switch(e){case Ft.name:return this.authWebService||(this.authWebService=new Ft(this));case zt.name:return this.auth0CallbackService||(this.auth0CallbackService=new zt(this));case de.name:return this.auth0SdkService||(this.auth0SdkService=new de);case we.name:return this.cssoSessionService||(this.cssoSessionService=new we(this));case fe.name:return this.httpService||(this.httpService=new fe);case Lt.name:return this.localStorageService||(this.localStorageService=new Lt);case Dt.name:return this.optionsTransformerService||(this.optionsTransformerService=new Dt);case Vt.name:return this.validatorService||(this.validatorService=new Vt);case $.name:return this.windowRefService||(this.windowRefService=new $)}}}(new class{constructor(){this.windowRefService=new $}initialise(){this.windowRefService.nativeWindow.__AUSPOST__.createAuthWebService=()=>(new Mt).getService(Ft.name)}}).initialise()})()})();